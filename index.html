<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Adora System | Hotel Operations Management</title>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800&display=swap" rel="stylesheet">
    
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-storage.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

   <link rel="stylesheet" href="style2.css">
</head>
<body>
    <!-- ุฑุณุงุฆู ุชูุจูู ุตุบูุฑุฉ -->
    <div id="mini-alert-container" style="position:fixed; top:10px; left:10px; right:10px; z-index:3000;"></div>

    <!-- ุตูุช ุงูุฅุดุนุงุฑ -->
    <audio id="notification-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" type="audio/mpeg">
    </audio>

    <div class="container">
        <div class="header">
            <div class="header-right" style="display:flex; align-items:center; gap:12px;">
                <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%2300ACC1'/%3E%3Cstop offset='100%25' style='stop-color:%230EA5E9'/%3E%3C/linearGradient%3E%3C/defs%3E%3Cpath d='M30 85 L15 50 L50 15 L85 50 L70 85 Z' fill='url(%23g)'/%3E%3Cpath d='M40 55 L30 40 L50 25 L70 40 L60 55 Z' fill='%23000' opacity='0.3'/%3E%3Ccircle cx='75' cy='25' r='8' fill='%23F59E0B'/%3E%3C/svg%3E" 
                     alt="Adora" 
                     style="width:40px; height:40px; filter:drop-shadow(0 2px 6px rgba(0,188,212,0.4));">
                <div style="margin:0; display:flex; flex-direction:column; line-height:1.2;">
                    <span style="font-size:1.1rem; font-weight:800; background:linear-gradient(135deg, #0891b2, #06b6d4); background-clip:text; -webkit-background-clip:text; -webkit-text-fill-color:transparent;">ููุธููุฉ Adora</span>
                    <span style="font-size:0.65rem; color:#64748b; font-weight:600;">ูุชุชุจุน ุงูุนูููุงุช ุงูุชุดุบูููุฉ ููููุงุฏู</span>
                </div>
                <button onclick="showQuickReport()" class="tools-btn" title="ุชูุฑูุฑ ุณุฑูุน" style="margin-right:8px;">๐</button>
            </div>
            <div class="header-left">
                <button onclick="toggleSideMenu()" class="tools-btn hamburger-btn" title="ุงููุงุฆูุฉ">โฐ</button>
                <button onclick="toggleFocusMode()" class="tools-btn focus-btn" title="ูุถุน ุงูุชุฑููุฒ" id="focus-mode-btn">๐๏ธ</button>
                <button onclick="showClearAllDataModal()" class="tools-btn" title="ุญุฐู ูู ุงูุจูุงูุงุช ูุจุฏุก ูู ุฌุฏูุฏ" style="background: rgba(220, 38, 38, 0.1); color: #DC2626; border: 1px solid rgba(220, 38, 38, 0.3);">๐๏ธ</button>
            </div>
        </div>

        <div class="worker-view">
            <div id="sync-indicator">๐ Saving...</div>
            
            <!-- ูุณู ุงูุฅุญุตุงุฆูุงุช ุงูุฌุฏูุฏ -->
            <div class="section">
                <div class="sec-title">
                    <span>๐ ุฅุญุตุงุฆูุงุช ุงูููู</span>
                </div>
                
                <div class="stats-grid-new">
                    <!-- ุตู ุงูุชูุธูู -->
                    <div class="stat-card" id="stat-out-card">
                        <div class="stat-icon">๐งน</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-out-done">0</div>
                            <div class="stat-label">ุฅุฌูุงูู ุชูุธูู ุงูุฎุฑูุฌ</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-stay-card">
                        <div class="stat-icon">๐</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-stay-done">0</div>
                            <div class="stat-label">ุฅุฌูุงูู ุชูุธูู ุงูุณุงูู</div>
                        </div>
                    </div>
                    
                    <!-- ุตู ุงูุทูุจุงุช -->
                    <div class="stat-card" id="stat-request-done-card">
                        <div class="stat-icon">๐๏ธ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-req-done">0</div>
                            <div class="stat-label">ุฅุฌูุงูู ุงูุทูุจุงุช ุงูููุชููุฉ</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-request-active-card" onclick="scrollToSection('guest-requests-section')" style="cursor: pointer;">
                        <div class="stat-icon">๐</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-req-active">0</div>
                            <div class="stat-label">ุฅุฌูุงูู ุงูุทูุจุงุช ุงููุดุทุฉ</div>
                        </div>
                    </div>
                    
                    <!-- ุตู ุงูุตูุงูุฉ -->
                    <div class="stat-card" id="stat-maint-done-card">
                        <div class="stat-icon">๐๏ธ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-maint-done">0</div>
                            <div class="stat-label">ุฅุฌูุงูู ุงูุตูุงูุฉ ุงูููุชููุฉ</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-maint-active-card" onclick="scrollToSection('maintenance-section')" style="cursor: pointer;">
                        <div class="stat-icon">โ๏ธ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-maint-active">0</div>
                            <div class="stat-label">ุฅุฌูุงูู ุงูุตูุงูุฉ ุงููุดุทุฉ</div>
                        </div>
                    </div>
                    
                    <!-- ุตู ุขุฎุฑ -->
                    <div class="stat-card" id="stat-last-request-card">
                        <div class="stat-icon">๐</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-last-request">--</div>
                            <div class="stat-label">ุขุฎุฑ ุทูุจ</div>
                        </div>
                    </div>
                    
                    <div class="stat-card" id="stat-last-maint-card">
                        <div class="stat-icon">โฐ</div>
                        <div class="stat-content">
                            <div class="stat-value" id="stat-last-maint">--</div>
                            <div class="stat-label">ุขุฎุฑ ุตูุงูุฉ</div>
                        </div>
                    </div>
                </div>
                
                <div class="active-stats">
                    <div class="active-stat-circle">
                        <svg class="progress-ring" width="120" height="120">
                            <circle class="progress-ring-background" cx="60" cy="60" r="50" fill="none" stroke="#E5E7EB" stroke-width="8"/>
                            <circle class="progress-ring-progress" id="progress-active" cx="60" cy="60" r="50" fill="none" stroke="#22C55E" stroke-width="8" stroke-linecap="round" transform="rotate(-90 60 60)"/>
                        </svg>
                        <div class="circle-content">
                            <div class="circle-value" id="stat-active">0</div>
                            <div class="circle-label active-label">ูุดุท</div>
                        </div>
                    </div>
                    <div class="active-stat-circle">
                        <svg class="progress-ring" width="130" height="130">
                            <circle class="progress-ring-background" cx="65" cy="65" r="55" fill="none"/>
                            <circle class="progress-ring-progress" id="progress-late" cx="65" cy="65" r="55" fill="none" stroke="url(#gradient-late)" stroke-linecap="round" transform="rotate(-90 65 65)"/>
                            <defs>
                                <linearGradient id="gradient-late" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#EF4444;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                        </svg>
                        <div class="circle-content">
                            <div class="circle-value late" id="stat-late">0</div>
                            <div class="circle-label active-label">ูุชุฃุฎุฑ</div>
                        </div>
                    </div>
                </div>
                
                <!-- ูุตูุญุฉ ุงูููู -->
                <div id="daily-tip" class="daily-tip" style="margin-top: 15px; padding: 10px 12px; background: rgba(255, 255, 255, 0.6); border-radius: 10px; border: 1px solid rgba(0, 0, 0, 0.05); font-size: 0.8rem; color: rgba(0, 0, 0, 0.5); text-align: center; width: 80%; max-width: 300px; margin-left: auto; margin-right: auto;">
                    <span id="daily-tip-text">๐ก ุชุญููู ุงูููู...</span>
                </div>
            </div>

            <div class="section section-rooms">
                <!-- ุดุฑูุท ุชูุจูู ุงููุญุต -->
                <div id="inspection-alert-bar" class="inspection-alert-bar" style="display: none; margin-bottom: 10px;">
                    <!-- ุฑุณุงูุฉ ุงูุงุณุชูุจุงู -->
                    <div id="inspection-alert-reception" style="padding: 12px 16px; background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.2)); border-radius: 12px; border: 2px solid rgba(239, 68, 68, 0.3); display: none; cursor: pointer; transition: all 0.3s ease;" onclick="showInspectionDetails()" onmouseenter="pauseInspectionAlert()" onmouseleave="resumeInspectionAlert()">
                        <div style="display: flex; align-items: center; justify-content: space-between; gap: 10px;">
                            <div style="flex: 1; display: flex; align-items: center; gap: 10px;">
                                <span style="font-size: 0.75rem; font-weight: 700; color: #DC2626;">ููุงุณุชูุจุงู:</span>
                                <span id="inspection-alert-icon-reception" style="font-size: 1.5rem;">๐</span>
                                <div style="flex: 1; font-size: 0.85rem; color: var(--text-main);" id="inspection-alert-message-reception">ุฑุณุงูุฉ ุงูุงุณุชูุจุงู</div>
                            </div>
                            <button id="inspection-alert-action-btn" onclick="event.stopPropagation(); handleInspectionAction();" class="glass-btn" style="background: var(--success); color: white; padding: 8px 16px; font-size: 0.85rem; font-weight: 700; display: none;">โ ุชู ุงูุนูู - ุฌุงุฑู ุงููุญุต</button>
                        </div>
                    </div>
                    <!-- ุฑุณุงูุฉ ุงูุนูุงู -->
                    <div id="inspection-alert-workers" style="padding: 12px 16px; background: linear-gradient(135deg, rgba(148, 163, 184, 0.15), rgba(100, 116, 139, 0.2)); border-radius: 12px; border: 2px solid rgba(148, 163, 184, 0.3); display: none;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="font-size: 0.75rem; font-weight: 700; color: #64748b;">ููุนูุงู:</span>
                            <span id="inspection-alert-icon-workers" style="font-size: 1.5rem;">๐</span>
                            <div style="flex: 1; font-size: 0.85rem; color: var(--text-main);" id="inspection-alert-message-workers">ุฑุณุงูุฉ ููุนูุงู</div>
                            <button onclick="dismissInspectionAlert()" class="glass-btn" style="background: var(--text-sec); color: white; padding: 8px 16px; font-size: 0.85rem; font-weight: 700;">ุชู</button>
                        </div>
                    </div>
                </div>
                
                <div class="sec-title" style="background: linear-gradient(135deg, rgba(0, 172, 193, 0.15), rgba(0, 172, 193, 0.08)); border: 2px solid rgba(0, 172, 193, 0.3); border-radius: 12px; padding: 12px 16px; margin-bottom: 15px;">
                    <span id="cleaning-requests-title" style="color: #00ACC1; font-weight: 700; font-size: 1.1rem;">๐งน ุทูุจุงุช ุชูุธูู ( ุฎุงุฑุฌ - ุณุงูู )</span>
                </div>
                
                <!-- ุญุงููุฉ ุงูุจุญุซ ูุน ูุธุงู ุงูุชุญูู ุงูุฐูู -->
                <div class="search-container">
                    <input type="text" id="search-bar" class="search-box" 
                           placeholder="๐ ุงุจุญุซ ุจุฑูู ุงูุบุฑูุฉ..." 
                           oninput="handleRoomSearch(this.value)" 
                           autocomplete="off">
                    
                    <!-- ุฑุณุงุฆู ุงูุชุญูู ุงูุฐูู -->
                    <div id="room-check-messages" class="room-check-messages" style="display: none;">
                        <div id="room-check-content"></div>
                    </div>
                </div>
                
                <div id="dnd-rooms-container" style="display:none;"></div>
                <div id="rooms-container"></div>
                <div id="scheduled-rooms-container" style="display: none;"></div>
                <div id="cleaning-requests-container" style="display: none; margin-top: 15px;"></div>
            </div>

            <div class="section section-requests" id="guest-requests-section">
                <div class="sec-title" id="guest-requests-section-title">
                    <span>๐๏ธ ุทูุจุงุช ุงููุฒูุงุก</span>
                </div>
                <div id="guest-requests-active-list" style="margin-bottom:5px;"></div>
                <div id="scheduled-requests-container" style="display: none;"></div>
            </div>

            <div class="section section-maintenance" id="maintenance-section">
                <div class="sec-title" style="color: var(--maint-color);">
                    <span>๐๏ธ ุงูุตูุงูุฉ</span>
                </div>
                <div id="maintenance-active-list" style="margin-bottom:5px;"></div>
                <div id="scheduled-maintenance-container" style="display: none;"></div>
            </div>

            <div class="section">
                <div class="sec-title">
                    <span id="log-title-text">๐งน ุงูุณุฌู (ููุชูู)</span>
                </div>
                <div id="cleaning-log-list"></div>
                <button id="btn-more-log" class="btn-show-more" onclick="loadMoreLog()" style="display:none; margin-top:8px;">โฌ๏ธ ุนุฑุถ ุงููุฒูุฏ</button>
            </div>
        </div>
    </div>

    <div id="dev-footer-fixed">
        <div style="font-size: 0.75rem; color: #64748b;">ุชูููุฐ: <span style="font-weight:700; color:#0891b2;">ุฃููู ุฃุจู ูุฑุฏุฉ</span> - 77aayy@gmail.com</div>
    </div>

    <!-- Add Room Modal -->
    <div id="addRoomModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div style="display:flex; gap:10px; margin-bottom:20px;">
                <button onclick="switchAddMode('cleaning')" id="tab-cleaning" class="add-mode-tab active">๐งน ุชูุธูู</button>
                <button onclick="switchAddMode('request')" id="tab-request" class="add-mode-tab">๐๏ธ ุทูุจุงุช</button>
                <button onclick="switchAddMode('maintenance')" id="tab-maintenance" class="add-mode-tab">๐๏ธ ุตูุงูุฉ</button>
            </div>
            <h3 style="color:var(--primary); margin-top:0; font-size:1.1rem;" id="modal-title-add">ุฅุถุงูุฉ ุบุฑูุฉ ุฌุฏูุฏุฉ</h3>
            
            <div style="margin-bottom:12px; text-align:right;">
                <label class="modal-label" id="room-number-label" style="font-weight:bold; font-size:0.9rem;">ุฑูู ุงูุบุฑูุฉ</label>
                <input type="number" id="inpRoomNum" placeholder="ูุซุงู: 101" 
                       onclick="this.select()" 
                       oninput="this.value = Math.floor(this.value); checkDuplicate(); suggestRoomType();" 
                       step="1"
                       style="font-size:1.1rem; font-weight:bold; text-align:center;">
                <div id="room-dup-alert" style="font-size:0.7rem; font-weight:bold; margin-top:6px; padding:4px; border-radius:4px; text-align:right; display:none; color:var(--danger); background:rgba(239, 68, 68, 0.1);"></div>
            </div>
            
            <div id="cleaning-options" style="background:linear-gradient(135deg, rgba(0,188,212,0.05), rgba(76,175,80,0.05)); padding:16px; border-radius:16px; border:2px solid rgba(0,188,212,0.2);">
                <div style="margin-bottom:12px; display:flex; flex-wrap:wrap; gap:6px;">
                    <button onclick="setRoomType('out')" class="glass-btn modal-select-btn" id="opt_out" style="flex:1; min-width:80px; font-size:0.7rem !important; padding:0 8px !important;">๐จ ุฎุฑูุฌ</button>
                    <button onclick="setRoomType('stay')" class="glass-btn modal-select-btn" id="opt_stay" style="flex:1; min-width:80px; font-size:0.7rem !important; padding:0 8px !important;">๐ ูุฌุฏูู</button>
                    <button onclick="setRoomType('dnd')" class="glass-btn modal-select-btn" id="opt_dnd" style="flex:1; min-width:70px; font-size:0.7rem !important; padding:0 8px !important;">๐ซ DND</button>
                </div>
                <input type="hidden" id="inpRoomType">
                <div id="stayOptionsCleaning" style="display:none; margin-bottom:12px; text-align:right;">
                    <div class="in-out-toggle" style="display:flex; gap:8px; margin-bottom:12px;">
                        <button onclick="setGuestStatus('in')" class="io-btn" id="gst_clean_in">๐ค ุฏุงุฎู</button>
                        <button onclick="setGuestStatus('out')" class="io-btn" id="gst_clean_out">๐ถ ุฎุงุฑุฌ</button>
                    </div>
                    <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">โฐ ููุช ุงูุชูุธูู</label>
                    <input type="time" id="systemTimeInput" value="12:00" style="width:100%; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.95rem;">
                </div>
                <div class="toggle-container" style="background: rgba(255, 152, 0, 0.1); border-color: rgba(255, 152, 0, 0.3);">
                    <div class="toggle-label" style="color: var(--maint-color); font-size:0.85rem;">๐ Super Turbo (-5 min)</div>
                    <label class="switch">
                        <input type="checkbox" id="inpSuperTurbo">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>

            <div id="request-options" style="display:none; margin-bottom:12px; background:linear-gradient(135deg, rgba(168,85,247,0.05), rgba(236,72,153,0.05)); padding:16px; border-radius:16px; border:2px solid rgba(168,85,247,0.2);">
                <div style="display:flex; gap:8px; margin-bottom:12px;">
                    <button onclick="setRequestMode('immediate')" id="btn-req-imm" class="glass-btn modal-select-btn">๐จ ููุฑู</button>
                    <button onclick="setRequestMode('scheduled')" id="btn-req-sch" class="glass-btn modal-select-btn">๐ ูุฌุฏูู</button>
                </div>
                <textarea id="inpRequestDetails" rows="3" placeholder="ุงูุชุจ ุทูุจ ุงููุฒูู (ููุดูุฉ - ูุญุงู - ูููุฐุง)" data-placeholder-key="requestPlaceholder" 
                          style="padding:14px; border-radius:14px; border:2px solid var(--request-color); background:white; font-size:0.95rem; font-weight:500; resize:none;"
                          oninput="checkQuickCodes()"></textarea>
                <div id="quick-codes-suggestions" class="quick-codes-suggestions"></div>
                <div id="request-schedule-container" style="display:none; margin-top:12px;">
                    <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">โฐ ููุนุฏ ุงูุทูุจ</label>
                    <div style="display:flex; gap:8px; align-items:center;">
                        <input type="date" id="systemDateInputReq" min="" style="flex:0.8; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.9rem;">
                        <input type="time" id="systemTimeInputReq" value="12:00" min="" style="flex:1; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.95rem;">
                    </div>
                </div>
            </div>

            <div id="maintenance-options" style="display:none; margin-bottom:12px; background:linear-gradient(135deg, rgba(14,165,233,0.05), rgba(56,189,248,0.05)); padding:16px; border-radius:16px; border:2px solid rgba(14,165,233,0.2);">
                <div style="display:flex; gap:8px; margin-bottom:12px;">
                    <button onclick="setMaintMode('immediate')" id="btn-maint-imm" class="glass-btn modal-select-btn">๐จ ุนุงุฌู</button>
                    <button onclick="setMaintMode('scheduled')" id="btn-maint-sch" class="glass-btn modal-select-btn">๐ ูุฌุฏูู</button>
                </div>
                <textarea id="inpMaintDetails" rows="3" placeholder="ุงูุชุจ ูุตู ุงููุดููุฉ..." data-placeholder-key="maintenanceDesc" style="padding:14px; border-radius:14px; border:2px solid var(--maint-color); background:white; font-size:0.95rem; font-weight:500; resize:none;"></textarea>
                <label class="modal-label" id="photo-optional-label" style="font-weight:bold; font-size:0.9rem; margin-top:10px;">ุตูุฑุฉ (ุงุฎุชูุงุฑู)</label>
                <label for="inpMaintImage" class="camera-icon-btn maint-image-upload" style="display:block; width:100%; padding:16px; text-align:center; font-size:1rem; cursor:pointer; border:2px dashed var(--maint-color); border-radius:10px; background:#f8fafc; transition:all 0.3s; margin-top:6px;">
                    <div style="font-size:1.8rem; margin-bottom:6px;">๐ท</div>
                    <div id="click-to-upload-text" style="font-weight:600; color:var(--maint-color); font-size:0.85rem;">ุงุถุบุท ูุฑูุน ุตูุฑุฉ</div>
                </label>
                <input type="file" accept="image/*" capture="environment" id="inpMaintImage" style="display:none;">
                <div id="maint-schedule-container" style="display:none; margin-top:12px;">
                    <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">โฐ ููุนุฏ ุงูุตูุงูุฉ</label>
                    <div style="display:flex; gap:8px; align-items:center;">
                        <input type="date" id="systemDateInputMaint" min="" style="flex:0.8; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.9rem;">
                        <input type="time" id="systemTimeInputMaint" value="12:00" min="" style="flex:1; padding:10px; border-radius:8px; border:1px solid var(--border-color); font-size:0.95rem;">
                    </div>
                </div>
            </div>

            <input type="hidden" id="inpGuestStatus" value="in">
            
            <div style="display: flex; gap: 10px;">
                <button onclick="addNewBtnAction()" class="glass-btn submit-action-btn" id="confirm-add-btn" style="flex: 1;">ุฅุถุงูุฉ ูุฅุฑุณุงู ๐</button>
                <button onclick="closeModal('addRoomModal')" class="glass-btn back-action-btn" id="back-btn-add-modal" style="flex: 1;">ุฑุฌูุน</button>
            </div>
        </div>
    </div>

    <!-- Finish Room Modal -->
    <div id="final-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 style="color:var(--primary); margin-top:0; font-size:1.1rem;" id="finish-title">๐ ุชูุฑูุฑ ุงูุบุฑูุฉ</h3>
            <div id="delay-reason-section" style="display:none; margin-bottom:12px;">
                <label class="modal-label" style="color:var(--danger); font-weight:bold; font-size:0.9rem;">โ๏ธ ุณุจุจ ุงูุชุฃุฎูุฑ:</label>
                <input type="hidden" id="modal-delay">
                <div style="display:flex; gap:4px; margin-top:4px;">
                    <button onclick="setDelayReason('ุถุบุท ุงูุนูู', this)" class="glass-btn" style="background:#eee; color:#333; flex:1; padding:6px 8px; font-size:0.8rem;" id="dly_work">ุถุบุท ุงูุนูู</button>
                    <button onclick="setDelayReason('ูุดููุฉ ุจุงูุบุฑูุฉ', this)" class="glass-btn" style="background:#eee; color:#333; flex:1; padding:6px 8px; font-size:0.8rem;" id="dly_room">ูุดููุฉ ุจุงูุบุฑูุฉ</button>
                </div>
                <div id="room-issue-details-section" style="display:none; margin-top:10px;">
                    <label class="modal-label" style="font-weight:bold; font-size:0.9rem;">๐ ูุตู ุงููุดููุฉ:</label>
                    <textarea id="room-issue-details" rows="3" placeholder="ุงูุชุจ ุชูุงุตูู ุงููุดููุฉ ุจุงูุบุฑูุฉ..." style="width:100%; padding:10px; border-radius:8px; border:2px solid var(--danger); background:white; font-size:0.9rem; resize:none; margin-top:6px;"></textarea>
                </div>
            </div>
            <input type="hidden" id="modal-notes" value="Ready">
            <div style="display:flex; gap:8px; margin-bottom:12px;">
                <button onclick="setRoomStatus('ุฌุงูุฒุฉ')" class="glass-btn" style="flex:1; justify-content:center; padding:10px;" id="st_ready">ุฌุงูุฒุฉ โ</button>
                <button onclick="setRoomStatus('ุชุญุชุงุฌ ุตูุงูุฉ')" class="glass-btn" style="flex:1; justify-content:center; padding:10px;" id="st_maint">ุตูุงูุฉ ๐๏ธ</button>
            </div>
            <div id="maintenance-fields" style="display: none; padding: 12px; background: rgba(220, 38, 38, 0.05); border-radius: 12px; border: 1px solid rgba(220, 38, 38, 0.15); margin-bottom: 10px; width: 100%; box-sizing: border-box;">
                <textarea id="repair-details-input" placeholder="ุงูุชุจ ูุตู ุงููุดููุฉ..." rows="2" style="width: 100%; box-sizing: border-box; margin-bottom: 10px; padding: 12px; border-radius: 10px; border: 2px solid rgba(220, 38, 38, 0.3); font-size: 0.9rem; resize: none;"></textarea>
                <div style="display: flex; align-items: center; justify-content: center; width: 100%;">
                    <label for="modal-img-camera-input" style="width: 48px; height: 48px; border-radius: 12px; background: linear-gradient(145deg, rgba(220, 38, 38, 0.1), rgba(185, 28, 28, 0.15)); display: flex; justify-content: center; align-items: center; cursor: pointer; border: 2px solid rgba(220, 38, 38, 0.4); font-size: 1.3rem; color: #dc2626; box-shadow: 0 2px 8px rgba(220, 38, 38, 0.2);">๐ท</label>
                </div>
                <input type="file" accept="image/*" capture="environment" id="modal-img-camera-input" style="display:none;">
            </div>
            <div class="toggle-container" style="background: rgba(59, 130, 246, 0.1); border-color: rgba(59, 130, 246, 0.3);">
                <div class="toggle-label" style="color: #1D4ED8; font-size:0.85rem; display: flex; align-items: center; gap: 6px;">
                    <span id="auto-wa-indicator-finish" style="font-size: 0.7rem; padding: 2px 6px; background: rgba(34, 197, 94, 0.2); border-radius: 8px; color: #16A34A; font-weight: 700;">๐ข ุชููุงุฆู</span>
                    <span>๐ฒ ุฅุฑุณุงู ุชูุฑูุฑ ูุงุชุณุงุจ ุชููุงุฆู</span>
                </div>
                <label class="switch">
                    <input type="checkbox" id="inpAutoSendWhatsappFinish" checked onchange="toggleAutoSendWhatsApp('finish', this.checked)">
                    <span class="slider"></span>
                </label>
            </div>
            <div style="display: flex; gap: 10px;">
                <button onclick="confirmFinishRoom()" class="glass-btn submit-action-btn" id="btn_confirm_finish" style="flex: 1;">ุชุฃููุฏ โ</button>
                <button onclick="closeModal('final-modal')" class="glass-btn back-action-btn" style="flex: 1;">ุฑุฌูุน</button>
            </div>
            <div id="finish-modal-loader" class="modal-loading-overlay" style="display:none;">
                <div class="modal-spinner"></div>
                <div class="modal-loading-text">โณ ุฌุงุฑู ุฅููุงุก ุงูุบุฑูุฉ...</div>
            </div>
        </div>
    </div>

    <!-- Complete Maintenance Modal -->
    <div id="complete-maint-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="background: linear-gradient(135deg, rgba(14,165,233,0.05), rgba(6,182,212,0.05)); border: 2px solid rgba(14,165,233,0.2);">
            <div style="background: linear-gradient(135deg, var(--maint-color), #0EA5E9); padding: 20px; border-radius: 16px 16px 0 0; margin: -20px -20px 20px -20px; color: white; box-shadow: 0 4px 12px rgba(14,165,233,0.3);">
                <h3 style="color: white; margin: 0; font-size: 1.3rem; font-weight: 800; display: flex; align-items: center; gap: 10px;">
                    <span style="font-size: 1.8rem;">โ</span>
                    <span>ุฅููุงุก ุงูุตูุงูุฉ</span>
                </h3>
            </div>
            
            <div id="maint-room-num-display" style="font-size: 1.1rem; font-weight: 700; margin-bottom: 20px; color: var(--maint-color); text-align: center; padding: 12px; background: linear-gradient(135deg, rgba(14,165,233,0.1), rgba(6,182,212,0.1)); border-radius: 12px; border: 2px solid rgba(14,165,233,0.3);">ุบุฑูุฉ XXX</div>
            
            <div style="margin-bottom: 20px; padding: 16px; background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,252,0.95)); border-radius: 12px; border: 2px solid rgba(14,165,233,0.2); display: flex; align-items: center; gap: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.05);">
                <div style="width: 50px; height: 50px; background: linear-gradient(135deg, var(--maint-color), #0EA5E9); border-radius: 12px; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; flex-shrink: 0; box-shadow: 0 2px 6px rgba(14,165,233,0.3);">โฐ</div>
                <div style="flex: 1;">
                    <label style="display: block; font-weight: 700; color: var(--text-sec); font-size: 0.85rem; margin-bottom: 6px;">ููุช ุจุฏุก ุงูุตูุงูุฉ:</label>
                    <div id="maint-start-time" style="font-size: 1.1rem; font-weight: 800; color: var(--maint-color);">--:--</div>
                </div>
            </div>
            
            <div style="margin-bottom: 20px;">
                <label for="maint-img-camera-input" style="display: flex; align-items: center; justify-content: space-between; gap: 12px; width: 100%; padding: 20px; background: linear-gradient(135deg, rgba(14,165,233,0.1), rgba(6,182,212,0.1)); border-radius: 16px; border: 2px dashed var(--maint-color); cursor: pointer; transition: all 0.3s; box-shadow: 0 2px 8px rgba(14,165,233,0.1);" onmouseover="this.style.background='linear-gradient(135deg, rgba(14,165,233,0.15), rgba(6,182,212,0.15))'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(14,165,233,0.2)';" onmouseout="this.style.background='linear-gradient(135deg, rgba(14,165,233,0.1), rgba(6,182,212,0.1))'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(14,165,233,0.1)';">
                    <div style="flex: 1; text-align: right;">
                        <div style="font-weight: 800; font-size: 1rem; color: var(--maint-color); margin-bottom: 6px;">๐ท ุฑูุน ุตูุฑุฉ ุฅุฌุจุงุฑูุฉ</div>
                        <div style="font-size: 0.85rem; color: var(--text-sec);">ุงุถุบุท ูุงูุชูุงุท ุฃู ุงุฎุชูุงุฑ ุตูุฑุฉ</div>
                    </div>
                    <div style="width: 56px; height: 56px; background: linear-gradient(135deg, var(--maint-color), #0EA5E9); border-radius: 14px; display: flex; justify-content: center; align-items: center; font-size: 1.8rem; flex-shrink: 0; box-shadow: 0 4px 12px rgba(14,165,233,0.4);">๐ท</div>
                </label>
                <input type="file" accept="image/*" capture="environment" id="maint-img-camera-input" style="display: none;" required>
                <div id="maint-img-uploaded-icon" style="display: none; margin-top: 12px; padding: 14px; background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(22, 163, 74, 0.15)); border-radius: 12px; text-align: center; color: #15803d; font-weight: 800; border: 2px solid rgba(34, 197, 94, 0.3); box-shadow: 0 2px 8px rgba(34, 197, 94, 0.2);">
                    โ ุชู ุฑูุน ุงูุตูุฑุฉ ุจูุฌุงุญ
                </div>
            </div>
            
            <div class="toggle-container" style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(37, 99, 235, 0.1)); border: 2px solid rgba(59, 130, 246, 0.3); border-radius: 12px; margin-bottom: 20px; padding: 14px; box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);">
                <div class="toggle-label" style="color: #1D4ED8; font-size: 0.9rem; display: flex; align-items: center; gap: 8px; font-weight: 700;">
                    <span id="auto-wa-indicator-maint" style="font-size: 0.75rem; padding: 4px 8px; background: rgba(34, 197, 94, 0.2); border-radius: 8px; color: #16A34A; font-weight: 800; border: 1px solid rgba(34, 197, 94, 0.3);">๐ข ุชููุงุฆู</span>
                    <span>ุฅุฑุณุงู ูุงุชุณุงุจ ุชููุงุฆู</span>
                </div>
                <label class="switch">
                    <input type="checkbox" id="inpAutoSendWhatsappMaint" checked onchange="toggleAutoSendWhatsApp('maint', this.checked)">
                    <span class="slider"></span>
                </label>
            </div>
            <div style="display: flex; gap: 12px;">
                <button onclick="confirmCompleteMaintenance()" class="glass-btn submit-action-btn" id="btn_confirm_maint_finish" style="flex: 2; padding: 16px; font-size: 1.1rem; font-weight: 800; background: linear-gradient(135deg, var(--maint-color), #0EA5E9); color: white; border: none; box-shadow: 0 4px 12px rgba(14,165,233,0.4);">โ ุชูุซูู ูุฅููุงุก</button>
                <button onclick="closeModal('complete-maint-modal')" class="glass-btn back-action-btn" style="flex: 1; padding: 16px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,252,0.95)); color: #6b7280; border: 2px solid rgba(148, 163, 184, 0.3);">โฉ๏ธ ุฑุฌูุน</button>
            </div>
        </div>
    </div>

    <!-- Password Modal -->
    <div id="password-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 style="color:var(--primary); margin-top:0; font-size:1.1rem;">ุชุฃููุฏ</h3>
            <input type="password" id="admin-password" placeholder="ูููุฉ ุงููุฑูุฑ" style="text-align:center; font-size:1.3rem;" />
            <div style="display: flex; gap: 10px;">
                <button onclick="checkPasswordAndAction()" class="glass-btn submit-action-btn" style="flex: 1;">ุชุฃููุฏ</button>
                <button onclick="closeModal('password-modal')" class="glass-btn back-action-btn" style="flex: 1;">ุฑุฌูุน</button>
            </div>
        </div>
    </div>

    <!-- Action Confirm Modal -->
    <div id="action-confirm-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 style="color:var(--primary); margin-top:0; font-size:1.1rem;" id="confirm-title"></h3>
            <p id="confirm-message" style="font-size:0.9rem; font-weight:bold; margin-bottom:15px; text-align:center;"></p>
            <div style="display: flex; gap: 10px;">
                <button id="confirm-yes-btn" class="glass-btn submit-action-btn" style="flex: 1;"></button>
                <button onclick="closeModal('action-confirm-modal')" class="glass-btn back-action-btn" id="confirm-back-btn" style="flex: 1;">ุฑุฌูุน</button>
            </div>
        </div>
    </div>

    <!-- Purchases Modal -->
    <div id="purchases-modal" class="modal-overlay" style="display: none;"></div>


    <!-- hidden print area -->
    <div id="qr-print-area" style="display: none;"></div>

    <!-- Guest Portal Manager Modal -->
    <div id="guest-portal-manager-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 1000px; max-height: 95vh; overflow-y: auto; padding: 25px;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 25px; padding-bottom: 15px; border-bottom: 3px solid var(--primary);">
                <div>
                    <h3 style="margin: 0; color: var(--primary); font-size: 1.6rem; font-weight: 800; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 2rem;">๐จ</span>
                        <span>ููุญุฉ ุชุญูู ุจูุงุจุฉ ุงููุฒูู</span>
                    </h3>
                    <p style="margin: 5px 0 0 0; color: var(--text-sec); font-size: 0.9rem; font-weight: 500;">ุณูู โข ุณุฑูุน โข ุงุญุชุฑุงูู</p>
                </div>
                <button onclick="closeModal('guest-portal-manager-modal')" class="tools-btn" style="font-size: 1.3rem; width: 40px; height: 40px; border-radius: 10px; background: rgba(239,68,68,0.1); color: #EF4444; border: 2px solid rgba(239,68,68,0.3); transition: all 0.3s;" 
                        onmouseover="this.style.background='rgba(239,68,68,0.2)'; this.style.transform='scale(1.1)';" 
                        onmouseout="this.style.background='rgba(239,68,68,0.1)'; this.style.transform='scale(1)';">
                    โ
                </button>
            </div>

            <!-- Tabs Navigation - Improved Design -->
            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 25px; background: linear-gradient(135deg, rgba(59,130,246,0.05), rgba(139,92,246,0.05)); padding: 12px; border-radius: 16px; border: 2px solid rgba(59,130,246,0.2);">
                <button onclick="switchGuestPortalTab('design')" id="gpm-tab-design" class="add-mode-tab active" 
                        style="padding: 14px; border-radius: 12px; font-weight: 700; font-size: 0.95rem; background: linear-gradient(135deg, var(--primary), #6366F1); color: white; border: none; box-shadow: 0 4px 12px rgba(59,130,246,0.3); transition: all 0.3s;"
                        onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(59,130,246,0.4)';"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(59,130,246,0.3)';">
                    ๐จ ุงูุชุตููู
                </button>
                <button onclick="switchGuestPortalTab('content')" id="gpm-tab-content" class="add-mode-tab" 
                        style="padding: 14px; border-radius: 12px; font-weight: 700; font-size: 0.95rem; background: white; color: var(--text-main); border: 2px solid var(--border-color); transition: all 0.3s;"
                        onmouseover="this.style.background='rgba(59,130,246,0.1)'; this.style.borderColor='var(--primary)'; this.style.transform='translateY(-2px)';"
                        onmouseout="this.style.background='white'; this.style.borderColor='var(--border-color)'; this.style.transform='translateY(0)';">
                    ๐ ุงููุญุชูู ูุงูุฑูุงุจุท
                </button>
                <button onclick="switchGuestPortalTab('qr')" id="gpm-tab-qr" class="add-mode-tab" 
                        style="padding: 14px; border-radius: 12px; font-weight: 700; font-size: 0.95rem; background: white; color: var(--text-main); border: 2px solid var(--border-color); transition: all 0.3s;"
                        onmouseover="this.style.background='rgba(59,130,246,0.1)'; this.style.borderColor='var(--primary)'; this.style.transform='translateY(-2px)';"
                        onmouseout="this.style.background='white'; this.style.borderColor='var(--border-color)'; this.style.transform='translateY(0)';">
                    ๐จ๏ธ QR
                </button>
            </div>

            <!-- Design Tab -->
            <div id="gpm-content-design" class="gpm-tab-content">
                <div style="background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(139,92,246,0.1)); padding: 15px 20px; border-radius: 12px; margin-bottom: 20px; border: 2px solid rgba(59,130,246,0.3);">
                    <h4 style="color: var(--primary); margin: 0; font-size: 1.2rem; font-weight: 800; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5rem;">๐จ</span>
                        <span>ุฅุนุฏุงุฏุงุช ุงูุชุตููู</span>
                    </h4>
                    <p style="margin: 8px 0 0 0; color: var(--text-sec); font-size: 0.85rem;">ุฎุตุต ูุธูุฑ ุจูุงุจุฉ ุงููุฒูู ุญุณุจ ุฐููู</p>
                </div>
                
                <div style="margin-bottom: 15px;">
                    <label class="modal-label">๐จ ููู ุงูุฎูููุฉ</label>
                    <input type="color" id="gpm-bg-color" value="#E3E8FF" style="width: 100%; height: 50px; border-radius: 8px; border: 2px solid var(--border-color);">
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="modal-label">๐ผ๏ธ ุตูุฑุฉ ุงูุฎูููุฉ</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <input type="file" id="gpm-bg-image-upload" accept="image/*" style="display: none;" onchange="handleBgImageUpload(event)">
                        <button onclick="document.getElementById('gpm-bg-image-upload').click()" class="glass-btn" style="flex: 1;">๐ค ุฑูุน ุตูุฑุฉ</button>
                        <input type="text" id="gpm-bg-image" placeholder="ุฃู ุฃุฏุฎู ุฑุงุจุท URL" style="flex: 2; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
                    </div>
                    <div id="gpm-bg-image-preview" style="margin-top: 10px; text-align: center; max-height: 150px; overflow: hidden; border-radius: 8px;"></div>
                    <div id="gpm-bg-image-upload-progress" style="display: none; margin-top: 10px;">
                        <div style="background: var(--border-color); height: 6px; border-radius: 3px; overflow: hidden;">
                            <div id="gpm-bg-image-progress-bar" style="background: var(--primary); height: 100%; width: 0%; transition: width 0.3s ease;"></div>
                        </div>
                    </div>
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="modal-label">๐ผ๏ธ ุงูููุฌู</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                        <input type="file" id="gpm-logo-upload" accept="image/*" style="display: none;" onchange="handleLogoUpload(event)">
                        <button onclick="document.getElementById('gpm-logo-upload').click()" class="glass-btn" style="flex: 1;">๐ค ุฑูุน ุตูุฑุฉ</button>
                        <input type="text" id="gpm-logo" placeholder="ุฃู ุฃุฏุฎู ุฑุงุจุท URL" style="flex: 2; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
                    </div>
                    <div id="gpm-logo-preview" style="margin-top: 10px; text-align: center;"></div>
                    <div id="gpm-logo-upload-progress" style="display: none; margin-top: 10px;">
                        <div style="background: var(--border-color); height: 6px; border-radius: 3px; overflow: hidden;">
                            <div id="gpm-logo-progress-bar" style="background: var(--primary); height: 100%; width: 0%; transition: width 0.3s ease;"></div>
                        </div>
                        <div style="text-align: center; font-size: 0.85rem; color: var(--text-sec); margin-top: 5px;">ุฌุงุฑู ุงูุฑูุน...</div>
                    </div>
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="modal-label">๐ ุนููุงู ุงูุตูุญุฉ</label>
                    <input type="text" id="gpm-title" placeholder="ุฃููุงู ุจู" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="modal-label">๐ ูุตู ุงูุชุฑุญูุจ</label>
                    <input type="text" id="gpm-subtitle" placeholder="ุฎุฏูุฉ ุงูุบุฑูุฉ ุงูุณุฑูุนุฉ" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="modal-label">๐จ ุงูุซูู</label>
                    <select id="gpm-theme" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
                        <option value="light">ูุงุชุญ</option>
                        <option value="dark">ุบุงูู</option>
                        <option value="glass">Glass</option>
                    </select>
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="modal-label">๐จ ุงูููู ุงูุฃุณุงุณู</label>
                    <input type="color" id="gpm-primary-color" value="#00ACC1" style="width: 100%; height: 50px; border-radius: 8px; border: 2px solid var(--border-color);">
                </div>
                
                <!-- ูุนุงููุฉ ูุจุงุดุฑุฉ -->
                <div style="background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(139,92,246,0.1)); padding: 15px 20px; border-radius: 12px; margin-top: 20px; border: 2px solid rgba(59,130,246,0.3);">
                    <h4 style="color: var(--primary); margin: 0 0 10px 0; font-size: 1rem; font-weight: 700;">๐๏ธ ูุนุงููุฉ ูุจุงุดุฑุฉ</h4>
                    <p style="margin: 0 0 15px 0; color: var(--text-sec); font-size: 0.85rem;">ุดุงูุฏ ุงูุชุบููุฑุงุช ูุจุงุดุฑุฉ ูุจู ุงูุญูุธ</p>
                    <div id="gpm-design-preview" style="background: #E3E8FF; padding: 20px; border-radius: 12px; border: 2px solid var(--border-color); min-height: 200px; position: relative; overflow: hidden;">
                        <div style="text-align: center; padding: 20px; color: var(--text-main);">
                            <div style="font-size: 3rem; margin-bottom: 15px;">๐จ</div>
                            <h3 style="margin: 0 0 10px 0; color: #00ACC1; font-size: 1.5rem; font-weight: 700;">ุฃููุงู ุจู ูู ููุธููุฉ Adora</h3>
                            <p style="margin: 0; font-size: 1rem; opacity: 0.8;">ุฎุฏูุฉ ุงูุบุฑูุฉ ุงูุณุฑูุนุฉ</p>
                            <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                                <div style="background: #00ACC1; color: white; padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; font-weight: 600;">ุชุจููุจ 1</div>
                                <div style="background: rgba(255,255,255,0.3); color: var(--text-main); padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; font-weight: 600;">ุชุจููุจ 2</div>
                                <div style="background: rgba(255,255,255,0.3); color: var(--text-main); padding: 8px 16px; border-radius: 8px; font-size: 0.9rem; font-weight: 600;">ุชุจููุจ 3</div>
                            </div>
                        </div>
                        <div style="position: absolute; bottom: 10px; right: 10px; font-size: 0.75rem; color: rgba(255,255,255,0.7); background: rgba(0,0,0,0.3); padding: 4px 8px; border-radius: 6px;">
                            ูุนุงููุฉ ูุจุงุดุฑุฉ
                        </div>
                    </div>
                </div>
                
                <!-- ุฒุฑ ูุนุงููุฉ ุตูุญุฉ ุงููุฒูู -->
                <div style="margin-top: 20px; display: flex; gap: 10px;">
                    <button onclick="previewGuestPortalWithCurrentSettings()" class="glass-btn submit-action-btn" 
                            style="flex: 1; padding: 14px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, #10B981, #059669); color: white; border: none; border-radius: 12px; box-shadow: 0 4px 12px rgba(16,185,129,0.3);">
                        ๐๏ธ ูุนุงููุฉ ุตูุญุฉ ุงููุฒูู
                    </button>
                    <button onclick="saveGuestPortalSettings()" class="glass-btn submit-action-btn" 
                            style="flex: 1; padding: 14px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, var(--primary), #6366F1); color: white; border: none; border-radius: 12px; box-shadow: 0 4px 12px rgba(59,130,246,0.3);">
                        ๐พ ุญูุธ ุงูุฅุนุฏุงุฏุงุช
                    </button>
                </div>
            </div>

            <!-- Content Tab (Merged Tabs + Links) -->
            <div id="gpm-content-content" class="gpm-tab-content" style="display: none;">
                <!-- ุงูุชุจููุจุงุช -->
                <div style="background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(139,92,246,0.1)); padding: 15px 20px; border-radius: 12px; margin-bottom: 20px; border: 2px solid rgba(59,130,246,0.3);">
                    <h4 style="color: var(--primary); margin: 0; font-size: 1.2rem; font-weight: 800; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5rem;">๐</span>
                        <span>ุงูุชุจููุจุงุช</span>
                    </h4>
                    <p style="margin: 8px 0 0 0; color: var(--text-sec); font-size: 0.85rem;">ุฃุถู ูุนุฏูู ุงูุชุจููุจุงุช ุงูุชู ุชุธูุฑ ูู ุตูุญุฉ ุงููุฒูู</p>
                </div>
                
                <div id="gpm-tabs-list" style="margin-bottom: 20px;">
                    <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                </div>

                <div style="background: rgba(59,130,246,0.05); padding: 12px; border-radius: 8px; margin-bottom: 20px; border: 1px solid rgba(59,130,246,0.2);">
                    <p style="margin: 0; color: var(--text-sec); font-size: 0.85rem; line-height: 1.5;">
                        ๐ก <strong>ููุงุญุธุฉ:</strong> ููููู ุชุนุฏูู ุงุณู ุงูุชุจููุจุ ุชูุนููู ุฃู ุฅูุบุงุก ุชูุนูููุ ูุฅุถุงูุฉ ุฑุงุจุท ุฃู ุฑูู ูุงุชุณุงุจ ููุชุจููุจุงุช ุงูุชู ุชุญุชุงุฌ ุฐูู. ูุชุจููุจ "ุดุงุฑู ุชุฌุฑุจุชู"ุ ุฃุฏุฎู ุฑุงุจุท ุฎุฑุงุฆุท ุฌูุฌู ูุณูุชู ุงุณุชุฎุฑุงุฌ ุฑุงุจุท ุงูุชูููู ุชููุงุฆูุงู.
                    </p>
                </div>
                
                <!-- ุนูุงุตุฑ ุงูุฃุบุฐูุฉ ูุงููุดุฑูุจุงุช -->
                <div style="background: linear-gradient(135deg, rgba(245,158,11,0.1), rgba(217,119,6,0.1)); padding: 15px 20px; border-radius: 12px; margin-bottom: 20px; border: 2px solid rgba(245,158,11,0.3);">
                    <h4 style="color: #F59E0B; margin: 0; font-size: 1.1rem; font-weight: 800; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.3rem;">๐ฝ๏ธ</span>
                        <span>ุนูุงุตุฑ ุงูุฃุบุฐูุฉ ูุงููุดุฑูุจุงุช (ูุชุจููุจ ุงููุงูู ุดูุจ)</span>
                    </h4>
                    <p style="margin: 8px 0 0 0; color: var(--text-sec); font-size: 0.85rem;">ุฃุถู ุนูุงุตุฑ ุงููุงุฆูุฉ ุงูุชู ุชุธูุฑ ูู ุชุจููุจ ุงููุงูู ุดูุจ</p>
                </div>
                
                <div id="gpm-fnb-list" style="margin-bottom: 20px;">
                    <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                </div>
                
                <button onclick="addFNBItem()" class="glass-btn" style="width: 100%; margin-bottom: 30px; padding: 14px; font-size: 1rem; font-weight: 700;">โ ุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ</button>
                
                <!-- ุงูุฑูุงุจุท ูุงูุฅุนุฏุงุฏุงุช -->
                <div style="background: linear-gradient(135deg, rgba(139,92,246,0.1), rgba(168,85,247,0.1)); padding: 15px 20px; border-radius: 12px; margin-bottom: 20px; border: 2px solid rgba(139,92,246,0.3);">
                    <h4 style="color: #8B5CF6; margin: 0; font-size: 1.2rem; font-weight: 800; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5rem;">๐</span>
                        <span>ุงูุฑูุงุจุท ูุงูุฅุนุฏุงุฏุงุช</span>
                    </h4>
                    <p style="margin: 8px 0 0 0; color: var(--text-sec); font-size: 0.85rem;">ุฑูุงุจุท ุงูุชูุงุตู ูุงูุฅุนุฏุงุฏุงุช ุงููุณุชุฎุฏูุฉ ูู ุงูุชุจููุจุงุช</p>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">โญ ุฑุงุจุท ุชูููู Google</label>
                        <input type="text" id="gpm-google-review" placeholder="https://g.page/r/..." 
                               style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 0.95rem;"
                               title="ูุณุชุฎุฏู ูู ุชุจููุจ 'ุดุงุฑู ุชุฌุฑุจุชู'">
                </div>
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ฌ ูุงุชุณุงุจ ุงููุฏูุฑ</label>
                        <input type="text" id="gpm-whatsapp-manager" placeholder="966501234567" 
                               style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 0.95rem;"
                               title="ูุณุชุฎุฏู ูู ุชุจููุจ 'ุชูุงุตู ูุจุงุดุฑ'">
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ ูุงุชุณุงุจ ุงููุทุนู</label>
                        <input type="text" id="gpm-whatsapp-kitchen" placeholder="966501234567" 
                               style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 0.95rem;"
                               title="ูุณุชุฎุฏู ูู ุชุจููุจ 'ุทูุจุงุช ุงููุฃูููุงุช'">
                    </div>
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ ุฑูู ุงูุงุณุชูุจุงู</label>
                        <input type="text" id="gpm-reception-phone" placeholder="966501234567" 
                               style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 0.95rem;">
                    </div>
                </div>

                <div style="margin-bottom: 15px;">
                    <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ฌ ุฑุณุงูุฉ ุงูุชุฑุญูุจ ุงูุงูุชุฑุงุถูุฉ</label>
                    <textarea id="gpm-welcome-message" rows="3" placeholder="ูุฑุญุจุงู ุจู ูู ููุฏููุง..." 
                              style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 0.95rem; resize: vertical; font-family: 'Tajawal', sans-serif;"></textarea>
                </div>

                <!-- ูููุน ุงูููุฏู (Geofence) - ูุจุณุท -->
                <div style="background: rgba(0, 172, 193, 0.05); padding: 15px; border-radius: 12px; border: 2px solid rgba(0, 172, 193, 0.2); margin-bottom: 15px;">
                    <h5 style="color: var(--primary); margin-top: 0; margin-bottom: 12px; font-size: 1rem; font-weight: 700;">๐ ูููุน ุงูููุฏู (Geofence)</h5>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                        <div>
                            <label class="modal-label" style="font-size: 0.85rem; font-weight: 600;">ุฎุท ุงูุนุฑุถ</label>
                            <input id="geo-lat" type="text" placeholder="24.713605" style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                    </div>
                        <div>
                            <label class="modal-label" style="font-size: 0.85rem; font-weight: 600;">ุฎุท ุงูุทูู</label>
                            <input id="geo-lng" type="text" placeholder="46.675296" style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                        </div>
                        </div>
                    <p style="margin-top:10px;color:#6b7280;font-size:0.8rem;line-height:1.4;">
                        ๐ก ุฃุฏุฎู ุฅุญุฏุงุซูุงุช ูููุน ุงูููุฏู (ุงุฎุชูุงุฑู)
                    </p>
                </div>

                <!-- ุฃููุงุช ุชูุดูุท ุงูุทูุจุงุช -->
                <div style="background: rgba(16, 185, 129, 0.05); padding: 15px; border-radius: 12px; border: 2px solid rgba(16, 185, 129, 0.2); margin-bottom: 15px;">
                    <h5 style="color: var(--primary); margin-top: 0; margin-bottom: 12px; font-size: 1rem; font-weight: 700;">โฐ ุฃููุงุช ุชูุดูุท ุงูุทูุจุงุช</h5>
                    
                    <div style="display: grid; gap: 15px;">
                        <!-- ุงููุธุงูุฉ: ููุฏ ุฒููู ุจูู ุงูุทูุจุงุช + ุฃููุงุช ุงูุนูู -->
                        <div style="background: rgba(0, 172, 193, 0.05); padding: 12px; border-radius: 8px; border: 1px solid rgba(0, 172, 193, 0.2);">
                            <label class="modal-label" style="font-size: 0.85rem; font-weight: 600;">๐งน ุงููุธุงูุฉ ุงูููุฑูุฉ</label>
                            
                            <div style="margin-top: 8px;">
                                <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ุงููุฏุฉ ุจูู ุงูุทูุจุงุช (ุจุงูุณุงุนุงุช)</label>
                                <input id="gpm-cleaning-cooldown" type="number" min="0" max="24" step="0.5" value="12" placeholder="12" 
                                       style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem; margin-bottom: 10px;" />
                            </div>
                            
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
                                <div>
                                    <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ุฃููุงุช ุงูุนูู - ูู</label>
                                    <input id="gpm-cleaning-from" type="time" value="08:00" 
                                           style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                                </div>
                                <div>
                                    <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ุฅูู</label>
                                    <input id="gpm-cleaning-to" type="time" value="22:00" 
                                           style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                                </div>
                            </div>
                            <p style="margin-top: 5px; color: #6b7280; font-size: 0.75rem;">ุงููุฏุฉ ุจูู ูู ุทูุจ ูุธุงูุฉ + ุฃููุงุช ุงูุนูู ุงูุฑุณููุฉ ููุทูุจุงุช ุงูููุฑูุฉ</p>
                        </div>
                        
                        <!-- ุงูุตูุงูุฉ: ุฃููุงุช ุงูุนูู + ูุคุดุฑ 24 ุณุงุนุฉ -->
                        <div style="background: rgba(255, 152, 0, 0.05); padding: 12px; border-radius: 8px; border: 1px solid rgba(255, 152, 0, 0.2);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                                <label class="modal-label" style="font-size: 0.85rem; font-weight: 600; margin: 0;">๐๏ธ ุงูุตูุงูุฉ ุงูููุฑูุฉ (ุฃููุงุช ุงูุนูู ุงูุฑุณููุฉ)</label>
                                <label style="display: flex; align-items: center; gap: 6px; cursor: pointer; font-size: 0.75rem; color: #6b7280;">
                                    <input type="checkbox" id="gpm-maintenance-24h" style="width: 18px; height: 18px; cursor: pointer;" />
                                    <span>24 ุณุงุนุฉ (ุนุงุฏู)</span>
                                </label>
                            </div>
                            <div id="gpm-maintenance-hours-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 6px;">
                                <div>
                                    <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ูู</label>
                                    <input id="gpm-maintenance-from" type="time" value="08:00" 
                                           style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                                </div>
                                <div>
                                    <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ุฅูู</label>
                                    <input id="gpm-maintenance-to" type="time" value="22:00" 
                                           style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                                </div>
                            </div>
                            <p style="margin-top: 5px; color: #6b7280; font-size: 0.75rem;">ุฃููุงุช ุงูุนูู ุงูุฑุณููุฉ ููุตูุงูุฉ ุงูููุฑูุฉ (ุฎุงุฑุฌ ูุฐู ุงูุฃููุงุช ูุชู ุฑูุถ ุงูุทูุจ ุงูููุฑู)</p>
                        </div>
                        
                        <!-- ุงูุทูุจุงุช: ุฃููุงุช ุงูุนูู + ูุคุดุฑ 24 ุณุงุนุฉ -->
                        <div style="background: rgba(139, 92, 246, 0.05); padding: 12px; border-radius: 8px; border: 1px solid rgba(139, 92, 246, 0.2);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px;">
                                <label class="modal-label" style="font-size: 0.85rem; font-weight: 600; margin: 0;">๐๏ธ ุงูุทูุจุงุช ุงูููุฑูุฉ (ุฃููุงุช ุงูุนูู ุงูุฑุณููุฉ)</label>
                                <label style="display: flex; align-items: center; gap: 6px; cursor: pointer; font-size: 0.75rem; color: #6b7280;">
                                    <input type="checkbox" id="gpm-requests-24h" style="width: 18px; height: 18px; cursor: pointer;" />
                                    <span>24 ุณุงุนุฉ (ุนุงุฏู)</span>
                                </label>
                            </div>
                            <div id="gpm-requests-hours-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 6px;">
                                <div>
                                    <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ูู</label>
                                    <input id="gpm-requests-from" type="time" value="08:00" 
                                           style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                                </div>
                                <div>
                                    <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ุฅูู</label>
                                    <input id="gpm-requests-to" type="time" value="22:00" 
                                           style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                                </div>
                            </div>
                            <p style="margin-top: 5px; color: #6b7280; font-size: 0.75rem;">ุฃููุงุช ุงูุนูู ุงูุฑุณููุฉ ููุทูุจุงุช ุงูููุฑูุฉ (ุฎุงุฑุฌ ูุฐู ุงูุฃููุงุช ูุชู ุฑูุถ ุงูุทูุจ ุงูููุฑู)</p>
                        </div>
                        
                        <!-- ุงููุงูู ุดูุจ: ุฃููุงุช ุงูุนูู ููููุฑู -->
                        <div style="background: rgba(139, 69, 19, 0.05); padding: 12px; border-radius: 8px; border: 1px solid rgba(139, 69, 19, 0.2);">
                            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 6px;">
                                <label class="modal-label" style="font-size: 0.85rem; font-weight: 600; margin: 0;">โ ุฎุฏูุงุช ุงููุงูู ุดูุจ (ุฃููุงุช ุงูุนูู ุงูุฑุณููุฉ)</label>
                                <label style="display: flex; align-items: center; gap: 6px; cursor: pointer; font-size: 0.75rem; color: #6b7280;">
                                    <input type="checkbox" id="gpm-fnb-24h" style="width: 18px; height: 18px; cursor: pointer;" />
                                    <span>24 ุณุงุนุฉ (ุนุงุฏู)</span>
                                </label>
                            </div>
                            <div id="gpm-fnb-hours-container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 6px;">
                                <div>
                                    <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ูู</label>
                                    <input id="gpm-fnb-from" type="time" value="08:00" 
                                           style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                                </div>
                                <div>
                                    <label style="font-size: 0.75rem; color: #6b7280; display: block; margin-bottom: 4px;">ุฅูู</label>
                                    <input id="gpm-fnb-to" type="time" value="22:00" 
                                           style="width:100%;padding:10px;border-radius:8px;border:2px solid var(--border-color); font-size: 0.9rem;" />
                                </div>
                            </div>
                            <p style="margin-top: 5px; color: #6b7280; font-size: 0.75rem;">ุฃููุงุช ุงูุนูู ุงูุฑุณููุฉ ูุฎุฏูุงุช ุงููุงูู ุดูุจ (ุฎุงุฑุฌ ูุฐู ุงูุฃููุงุช ูุชู ุฑูุถ ุงูุทูุจ ุงูููุฑู)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- QR Tab -->
            <div id="gpm-content-qr" class="gpm-tab-content" style="display: none;">
                <div style="background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(139,92,246,0.1)); padding: 15px 20px; border-radius: 12px; margin-bottom: 20px; border: 2px solid rgba(59,130,246,0.3);">
                    <h4 style="color: var(--primary); margin: 0; font-size: 1.2rem; font-weight: 800; display: flex; align-items: center; gap: 10px;">
                        <span style="font-size: 1.5rem;">๐จ๏ธ</span>
                        <span>ูููุฏ ุฑููุฒ QR ููุบุฑู</span>
                    </h4>
                    <p style="margin: 8px 0 0 0; color: var(--text-sec); font-size: 0.85rem;">ุฃุฏุฎู ูุทุงู ุงูุบุฑู ูุชูููุฏ QR ููู ุบุฑูุฉ ุชููุงุฆูุงู</p>
                </div>
                
                <!-- QR Generator Section -->
                <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; margin-bottom: 20px; border: 2px solid var(--border-color);">
                    <h5 style="color: var(--primary); margin-top: 0; margin-bottom: 15px; font-size: 1.1rem; font-weight: 700;">๐ ูุทุงู ุงูุบุฑู</h5>
                    
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <div style="flex: 1;">
                            <label class="modal-label" style="font-weight: 700;">๐ ูู ุบุฑูุฉ</label>
                            <input id="gpm-qr-from" type="number" placeholder="101" min="1" 
                                   style="width: 100%; padding: 14px; border-radius: 10px; border: 2px solid var(--primary); font-size: 1.1rem; font-weight: 600; text-align: center;">
                        </div>
                        <div style="flex: 1;">
                            <label class="modal-label" style="font-weight: 700;">๐ ุฅูู ุบุฑูุฉ</label>
                            <input id="gpm-qr-to" type="number" placeholder="120" min="1" 
                                   style="width: 100%; padding: 14px; border-radius: 10px; border: 2px solid var(--primary); font-size: 1.1rem; font-weight: 600; text-align: center;">
                        </div>
                    </div>

                    <div style="background: rgba(59,130,246,0.05); padding: 12px; border-radius: 10px; margin-bottom: 15px; border: 1px solid rgba(59,130,246,0.2);">
                        <div style="font-size: 0.85rem; color: var(--text-sec); font-weight: 600;">
                            ๐ก ุณูุชู ุชูููุฏ QR ููู ุบุฑูุฉ ูู <span id="qr-count-preview" style="color: var(--primary); font-weight: 800;">0</span> ุบุฑูุฉ ุชููุงุฆูุงู
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px;">
                        <div>
                            <label class="modal-label" style="font-weight: 700; font-size: 0.9rem; margin-bottom: 6px;">๐ ุญุฌู ุงูู QR</label>
                            <select id="gpm-qr-size" style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem; font-weight: 600;">
                                <option value="120">ุตุบูุฑ (120px)</option>
                                <option value="160" selected>ูุชูุณุท (160px)</option>
                                <option value="200">ูุจูุฑ (200px)</option>
                                <option value="250">ูุจูุฑ ุฌุฏุงู (250px)</option>
                            </select>
                        </div>
                        <div>
                            <label class="modal-label" style="font-weight: 700; font-size: 0.9rem; margin-bottom: 6px;">๐ ุฃุนูุฏุฉ ุจุงูุทุจุงุนุฉ</label>
                            <select id="gpm-qr-columns" style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem; font-weight: 600;">
                                <option value="2">2 ุฃุนูุฏุฉ</option>
                                <option value="3" selected>3 ุฃุนูุฏุฉ</option>
                                <option value="4">4 ุฃุนูุฏุฉ</option>
                            </select>
                        </div>
                    </div>

                    <div id="gpm-qr-preview-area" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; max-height: 420px; overflow: auto; margin-bottom: 15px; padding: 10px; background: rgba(0,0,0,0.02); border-radius: 12px;"></div>

                    <div style="display: flex; gap: 10px; justify-content: flex-end;">
                        <button onclick="generateAndPrintQRFromGPM()" class="glass-btn submit-action-btn" 
                                style="padding: 14px 24px; font-size: 1.1rem; font-weight: 700; background: linear-gradient(135deg, #10B981, #059669); color: white; border: none; border-radius: 12px; box-shadow: 0 4px 12px rgba(16,185,129,0.3); transition: all 0.3s;"
                                onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(16,185,129,0.4)';"
                                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(16,185,129,0.3)';">
                            ๐ ุชูููุฏ QR
                        </button>
                        <button onclick="downloadQRAsPDF()" class="glass-btn submit-action-btn" 
                                style="padding: 14px 24px; font-size: 1.1rem; font-weight: 700; background: linear-gradient(135deg, var(--primary), #6366F1); color: white; border: none; border-radius: 12px; box-shadow: 0 4px 12px rgba(59,130,246,0.3); transition: all 0.3s;"
                                onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(59,130,246,0.4)';"
                                onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(59,130,246,0.3)';">
                            ๐จ๏ธ ุชุญููู PDF ุนุงูู ุงูุฌูุฏุฉ
                        </button>
                    </div>
                        </div>
                    </div>

            <!-- Action Buttons - Improved Design -->
            <div style="display: flex; gap: 12px; margin-top: 30px; padding-top: 25px; border-top: 3px solid var(--border-color);">
                <button onclick="saveGuestPortalSettings()" class="glass-btn submit-action-btn" 
                        style="flex: 2; padding: 16px; font-size: 1.1rem; font-weight: 800; background: linear-gradient(135deg, var(--primary), #6366F1); color: white; border: none; border-radius: 12px; box-shadow: 0 4px 12px rgba(59,130,246,0.3); transition: all 0.3s;"
                        onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 6px 16px rgba(59,130,246,0.4)';"
                        onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='0 4px 12px rgba(59,130,246,0.3)';">
                    ๐พ ุญูุธ ุฌููุน ุงูุฅุนุฏุงุฏุงุช
                </button>
                <button onclick="previewGuestPortal()" class="glass-btn" 
                        style="flex: 1; padding: 16px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(14,165,233,0.1), rgba(56,189,248,0.1)); color: var(--primary); border: 2px solid var(--primary); border-radius: 12px; transition: all 0.3s;"
                        onmouseover="this.style.background='linear-gradient(135deg, rgba(14,165,233,0.2), rgba(56,189,248,0.2))'; this.style.transform='translateY(-2px)';"
                        onmouseout="this.style.background='linear-gradient(135deg, rgba(14,165,233,0.1), rgba(56,189,248,0.1))'; this.style.transform='translateY(0)';">
                    ๐๏ธ ูุนุงููุฉ
                </button>
                <button onclick="closeModal('guest-portal-manager-modal')" class="glass-btn back-action-btn" 
                        style="flex: 1; padding: 16px; font-size: 1rem; font-weight: 700; background: rgba(239,68,68,0.1); color: #EF4444; border: 2px solid rgba(239,68,68,0.3); border-radius: 12px; transition: all 0.3s;"
                        onmouseover="this.style.background='rgba(239,68,68,0.2)'; this.style.transform='translateY(-2px)';"
                        onmouseout="this.style.background='rgba(239,68,68,0.1)'; this.style.transform='translateY(0)';">
                    โ ุฅุบูุงู
                </button>
            </div>
        </div>
    </div>

    <!-- Menu Editor Modal (ูุญุฑุฑ ูุงุฆูุฉ ุงูุฎุฏูุงุช) -->
    <div id="menu-editor-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 1000px; max-height: 90vh; overflow-y: auto;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <h3 style="margin: 0; color: var(--primary); font-size: 1.4rem;">๐ ูุญุฑุฑ ูุงุฆูุฉ ุงูุฎุฏูุงุช</h3>
                <button onclick="closeModal('menu-editor-modal')" class="tools-btn" style="font-size: 1.2rem;">โ</button>
            </div>

            <!-- ุงููุณู 1: ุฅุถุงูุฉ ููุชุฌ/ุฎุฏูุฉ ุฌุฏูุฏุฉ -->
            <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; margin-bottom: 20px; border: 2px solid var(--border-color);">
                <h4 style="color: var(--primary); margin-top: 0; margin-bottom: 15px;">๐น ุงููุณู 1 โ ุฅุถุงูุฉ ููุชุฌ/ุฎุฏูุฉ ุฌุฏูุฏุฉ</h4>
                <button onclick="openAddServiceModal()" class="glass-btn submit-action-btn" style="width: 100%; padding: 16px; font-size: 1.1rem;">
                    โ ุฅุถุงูุฉ ุฎุฏูุฉ / ููุชุฌ
                </button>
            </div>

            <!-- ุงููุณู 2: ูุงุฆูุฉ ุงูููุชุฌุงุช ูุงูุฎุฏูุงุช ุงูุญุงููุฉ -->
            <div style="background: var(--bg-card); padding: 20px; border-radius: 12px; border: 2px solid var(--border-color);">
                <h4 style="color: var(--primary); margin-top: 0; margin-bottom: 20px;">๐น ุงููุณู 2 โ ูุงุฆูุฉ ุงูููุชุฌุงุช ูุงูุฎุฏูุงุช ุงูุญุงููุฉ</h4>
                <div id="menu-items-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 16px;">
                    <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                </div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Service Modal -->
    <div id="add-service-modal" class="modal-overlay" style="display: none; z-index: 2000;">
        <div class="modal-content" style="max-width: 600px; max-height: 90vh; overflow-y: auto;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <h3 style="margin: 0; color: var(--primary); font-size: 1.3rem;" id="add-service-title">โ ุฅุถุงูุฉ ุฎุฏูุฉ / ููุชุฌ ุฌุฏูุฏ</h3>
                <button onclick="closeModal('add-service-modal')" class="tools-btn" style="font-size: 1.2rem;">โ</button>
            </div>

            <div style="margin-bottom: 15px;">
                <label class="modal-label">๐ผ๏ธ ุตูุฑุฉ ุงูููุชุฌ</label>
                <div style="display: flex; gap: 10px; margin-bottom: 10px;">
                    <input type="file" id="service-image-upload" accept="image/*" style="display: none;" onchange="handleServiceImageUpload(event)">
                    <button onclick="document.getElementById('service-image-upload').click()" class="glass-btn" style="flex: 1;">๐ค ุฑูุน ุตูุฑุฉ</button>
                    <input type="text" id="service-image-url" placeholder="ุฃู ุฃุฏุฎู ุฑุงุจุท URL" style="flex: 2; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
                </div>
                <div id="service-image-preview" style="margin-top: 10px; text-align: center; max-height: 150px; overflow: hidden; border-radius: 8px;"></div>
            </div>

            <div style="margin-bottom: 15px;">
                <label class="modal-label">๐ ุงุณู ุงูููุชุฌ / ุงูุฎุฏูุฉ</label>
                <input type="text" id="service-name" placeholder="ูุซุงู: ุจูุจุณู" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
            </div>

            <div style="margin-bottom: 15px;">
                <label class="modal-label">๐จ ุงูุฃููููุฉ</label>
                <input type="text" id="service-icon" placeholder="๐ฅค" maxlength="2" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 1.5rem; text-align: center;">
                <div style="text-align: center; margin-top: 8px; font-size: 0.85rem; color: var(--text-sec);">ููููู ุงุณุชุฎุฏุงู ุฃู emoji</div>
            </div>

            <div style="margin-bottom: 15px;">
                <label class="modal-label">๐ฆ ุงูููุน</label>
                <select id="service-type" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
                    <option value="form">ูููุฐุฌ</option>
                    <option value="fnb">ุฃุบุฐูุฉ ููุดุฑูุจุงุช</option>
                    <option value="link">ุฑุงุจุท</option>
                    <option value="whatsapp">ูุงุชุณุงุจ</option>
                    <option value="minibar">ูููู ุจุงุฑ</option>
                    <option value="orderable">ููุชุฌ ูุงุจู ููุทูุจ</option>
                </select>
            </div>

            <div style="margin-bottom: 15px;" id="service-price-group">
                <label class="modal-label">๐ฐ ุงูุณุนุฑ (ุฑูุงู)</label>
                <input type="number" id="service-price" placeholder="0" min="0" step="0.5" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
            </div>

            <div style="margin-bottom: 15px;" id="service-url-group" style="display: none;">
                <label class="modal-label">๐ ุงูุฑุงุจุท (URL)</label>
                <input type="text" id="service-url" placeholder="https://..." style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
            </div>

            <div style="margin-bottom: 15px;" id="service-whatsapp-group" style="display: none;">
                <label class="modal-label">๐ฌ ุฑูู ูุงุชุณุงุจ</label>
                <input type="text" id="service-whatsapp" placeholder="966501234567" style="width: 100%; padding: 12px; border-radius: 8px; border: 2px solid var(--border-color);">
            </div>

            <!-- Toggles -->
            <div style="background: rgba(0,0,0,0.02); padding: 15px; border-radius: 12px; margin-bottom: 15px;">
                <div style="margin-bottom: 12px;">
                    <div class="toggle-container">
                        <div class="toggle-label">๐ค ูุธูุฑ ููุถููุ</div>
                        <label class="switch">
                            <input type="checkbox" id="service-visible-guest" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div style="margin-bottom: 12px;">
                    <div class="toggle-container">
                        <div class="toggle-label">๐ฆ ููุชูู ูููููู ุจุงุฑุ</div>
                        <label class="switch">
                            <input type="checkbox" id="service-is-minibar">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div style="margin-bottom: 12px;">
                    <div class="toggle-container">
                        <div class="toggle-label">๐ฑ ูุธูุฑ ูู ูุงุฆูุฉ QRุ</div>
                        <label class="switch">
                            <input type="checkbox" id="service-show-in-qr" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div>
                    <div class="toggle-container">
                        <div class="toggle-label">โก ููุทูุจ ููุฑุงู (ููุงุจู: ูุฎุตุต/ูุฌุฏูู)</div>
                        <label class="switch">
                            <input type="checkbox" id="service-instant" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                <button onclick="saveService()" class="glass-btn submit-action-btn" style="flex: 1;">๐พ ุญูุธ</button>
                <button onclick="closeModal('add-service-modal')" class="glass-btn back-action-btn" style="flex: 1;">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Comprehensive Log Modal -->
    <div id="comprehensive-log-modal" class="modal-overlay" style="display: none;"></div>

    <!-- Custom Alert Modal -->
    <div id="customAlertModal" class="modal-overlay" style="z-index: 3000; display: none;">
        <div class="alert-modal-content">
            <span id="alertIcon" style="font-size:2.5rem; display:block; margin-bottom:8px;"></span>
            <p id="alertMessage" style="font-weight:bold; font-size:0.9rem; margin-bottom:15px;"></p>
            <button onclick="closeCustomAlert()" class="full-btn" style="background:var(--primary); padding:12px;">OK</button>
        </div>
    </div>

    <!-- Side Menu -->
    <div id="side-menu" class="side-menu" style="display: none;">
        <div class="side-menu-header">
            <h3>โ๏ธ ุงูุฅุฏุงุฑุฉ</h3>
            <button onclick="toggleSideMenu()" class="tools-btn">โ</button>
        </div>
        <div class="side-menu-content">
            <!-- ๐ฆ ุงูุชุดุบูู -->
            <div style="padding: 12px 0; border-bottom: 2px solid var(--border-color); margin-bottom: 12px;">
                <div style="color: #3B82F6; font-weight: 700; font-size: 0.9rem; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                    <span style="font-size: 1.2rem;">๐ฆ</span>
                    <span>ุงูุชุดุบูู</span>
                </div>
                <div style="color: var(--text-sec); font-size: 0.8rem; margin-bottom: 12px; padding-right: 20px;">-------------------------------</div>
                <button onclick="showPurchasesModal()" class="side-menu-item">๐ฆ ูุงุฆูุฉ ุงููุดุชุฑูุงุช</button>
                <button id="btn-maint-scheduler" class="side-menu-item" type="button" aria-label="ุฌุฏููุฉ ุงูุตูุงูุฉ โ ุงูุชุญ" title="ุฌุฏููุฉ ุงูุตูุงูุฉ (Maintenance Scheduler)">๐๏ธ ุฌุฏููุฉ ุงูุตูุงูุฉ</button>
                <button id="btn-shift-log" class="side-menu-item" type="button" aria-label="ุณุฌู ุงูุดูุช โ ุงูุชุญ" title="ุณุฌู ุงูุดูุช (Shift Log)">๐ ุณุฌู ุงูุดูุช</button>
                <button id="btn-news-ticker" class="side-menu-item" type="button" aria-label="ูุญุฑุฑ ุงูุฃุฎุจุงุฑ โ ุงูุชุญ" title="ูุญุฑุฑ ุงูุฃุฎุจุงุฑ (News Ticker)">๐ข ูุญุฑุฑ ุงูุฃุฎุจุงุฑ</button>
            </div>

            <!-- ๐จ ุชุฌุฑุจุฉ ุงููุฒูู -->
            <div style="padding: 12px 0; border-bottom: 2px solid var(--border-color); margin-bottom: 12px;">
                <div style="color: #F59E0B; font-weight: 700; font-size: 0.9rem; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                    <span style="font-size: 1.2rem;">๐จ</span>
                    <span>ุชุฌุฑุจุฉ ุงููุฒูู</span>
                </div>
                <div style="color: var(--text-sec); font-size: 0.8rem; margin-bottom: 12px; padding-right: 20px;">-------------------------------</div>
                <button onclick="showGuestPortalManager()" class="side-menu-item">๐จ ููุญุฉ ุชุญูู ุจูุงุจุฉ ุงููุฒูู ู ุงูู QR</button>
                <button onclick="showMenuEditor()" class="side-menu-item">๐ ูุญุฑุฑ ูุงุฆูุฉ ุงูุฎุฏูุงุช</button>
            </div>

            <!-- ๐ฉ ุงูุชูุงุฑูุฑ ูุงูุชุญูููุงุช -->
            <div style="padding: 12px 0; border-bottom: 2px solid var(--border-color); margin-bottom: 12px;">
                <div style="color: #10B981; font-weight: 700; font-size: 0.9rem; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                    <span style="font-size: 1.2rem;">๐ฉ</span>
                    <span>ุงูุชูุงุฑูุฑ ูุงูุชุญูููุงุช</span>
                </div>
                <div style="color: var(--text-sec); font-size: 0.8rem; margin-bottom: 12px; padding-right: 20px;">-------------------------------</div>
                <button id="btn-advanced-reports" class="side-menu-item" type="button" aria-label="ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ โ ุงูุชุญ" title="ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ (Advanced Reports)">๐ ุงูุชูุงุฑูุฑ</button>
            </div>

            <!-- ๐ฅ ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ -->
            <div style="padding: 12px 0;">
                <div style="color: #EF4444; font-weight: 700; font-size: 0.9rem; margin-bottom: 8px; display: flex; align-items: center; gap: 8px;">
                    <span style="font-size: 1.2rem;">๐ฅ</span>
                    <span>ุงูุฅุนุฏุงุฏุงุช ุงูุนุงูุฉ</span>
                </div>
                <div style="color: var(--text-sec); font-size: 0.8rem; margin-bottom: 12px; padding-right: 20px;">-------------------------------</div>
                <button onclick="toggleLanguage()" class="side-menu-item" id="lang-btn">๐ ุงููุบุฉ</button>
            </div>
        </div>
    </div>
    <div id="side-menu-overlay" class="side-menu-overlay" onclick="toggleSideMenu()" style="display: none;"></div>

    <!-- Floating Action Button -->
    <div id="fab-container" style="position: fixed; z-index: 1000;">
        <button id="fab" class="fab" onclick="toggleFABMenu()">+</button>
        <div id="fab-menu" class="fab-menu" style="display: none;">
            <button onclick="openFABOption('clean')" class="fab-option fab-clean" data-fab-type="clean" title="ุชูุธูู">๐งน</button>
            <button onclick="openFABOption('request')" class="fab-option fab-request" data-fab-type="request" title="ุทูุจ">๐๏ธ</button>
            <button onclick="openFABOption('maintenance')" class="fab-option fab-maintenance" data-fab-type="maintenance" title="ุตูุงูุฉ">๐๏ธ</button>
            <button onclick="openFABOption('inspection')" class="fab-option fab-inspection" data-fab-type="inspection" title="ูุญุต">๐</button>
        </div>
    </div>

    <!-- Inspection Modal -->
    <div id="inspection-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 500px;">
            <h3 style="color: var(--primary); margin-top: 0;">๐ ูุญุต ุงูุบุฑูุฉ</h3>
            
            <!-- ุฒุฑูู ูู ููู: ุงููุดุฑู ูุงูุงุณุชูุจุงู -->
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 20px;">
                <button onclick="openSupervisorInspection()" class="glass-btn inspection-mode-btn" id="btn-supervisor-inspection" style="padding: 14px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,252,0.95)); color: #6b7280; border: 2px solid rgba(148, 163, 184, 0.3); border-radius: 12px; transition: all 0.3s;">
                    ๐ ุฅุฑุณุงู ูููุดุฑู
                </button>
                <button onclick="openReceptionInspection()" class="glass-btn inspection-mode-btn active" id="btn-reception-inspection" style="padding: 14px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(59, 130, 246, 0.25), rgba(37, 99, 235, 0.3)); color: #1d4ed8; border: 2px solid rgba(59, 130, 246, 0.5); border-radius: 12px; box-shadow: 0 2px 8px rgba(59, 130, 246, 0.2); transition: all 0.3s;">
                    ๐จ ุชุณููู ููุงุณุชูุจุงู
                </button>
            </div>
            
            <!-- ูุณู ุฅุฑุณุงู ูููุดุฑู (ูุฎูู ุงูุชุฑุงุถูุงู) -->
            <div id="supervisor-inspection-section" style="display: none; margin-bottom: 15px;">
                <input type="number" id="supervisor-room-num" placeholder="ุฑูู ุงูุบุฑูุฉ" 
                       style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); margin-bottom: 10px; text-align: center; font-size: 1.1rem;">
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px;">
                    <button onclick="setSupervisorUrgency('urgent')" id="supervisor-urgent-btn" class="glass-btn inspection-action-btn" style="padding: 14px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,252,0.95)); color: #6b7280; border: 2px solid rgba(148, 163, 184, 0.3); border-radius: 12px; transition: all 0.3s;">
                        ๐ด ุนุงุฌู
                    </button>
                    <button onclick="setSupervisorUrgency('normal')" id="supervisor-normal-btn" class="glass-btn inspection-action-btn active" style="padding: 14px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(34, 197, 94, 0.2), rgba(22, 163, 74, 0.25)); color: #15803d; border: 2px solid rgba(34, 197, 94, 0.4); border-radius: 12px; box-shadow: 0 2px 8px rgba(34, 197, 94, 0.2); transition: all 0.3s;">
                        ๐ข ุบูุฑ ุนุงุฌู
                    </button>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px;">
                    <button onclick="setSupervisorGuestStatus('inside')" id="supervisor-guest-inside-btn" class="glass-btn inspection-action-btn" style="padding: 14px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,252,0.95)); color: #6b7280; border: 2px solid rgba(148, 163, 184, 0.3); border-radius: 12px; transition: all 0.3s;">
                        ๐ค ุงููุฒูู ุจุงูุบุฑูุฉ
                    </button>
                    <button onclick="setSupervisorGuestStatus('outside')" id="supervisor-guest-outside-btn" class="glass-btn inspection-action-btn" style="padding: 14px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,252,0.95)); color: #6b7280; border: 2px solid rgba(148, 163, 184, 0.3); border-radius: 12px; transition: all 0.3s;">
                        ๐ช ุงููุฒูู ุจุงูุฎุงุฑุฌ
                    </button>
                </div>
                
                <div style="display: flex; gap: 12px; margin-top: 15px;">
                    <button onclick="submitSupervisorInspection()" class="glass-btn inspection-submit-btn" style="flex: 2; padding: 16px; font-size: 1.1rem; font-weight: 800; background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(37, 99, 235, 0.35)); color: #1d4ed8; border: 2px solid rgba(59, 130, 246, 0.5); box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);">๐ค ุฅุฑุณุงู ูููุดุฑู</button>
                    <button onclick="closeModal('inspection-modal')" class="glass-btn back-action-btn" style="flex: 1; padding: 16px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(248,250,252,0.95)); color: #6b7280; border: 2px solid rgba(148, 163, 184, 0.3);">โฉ๏ธ ุฑุฌูุน</button>
                </div>
            </div>
            
            <!-- ูุณู ุชุณููู ููุงุณุชูุจุงู (ุงูุชุฑุงุถู) -->
            <div id="reception-inspection-section">
                <input type="number" id="inspection-room-num" placeholder="ุฑูู ุงูุบุฑูุฉ" 
                       style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); margin-bottom: 15px; text-align: center; font-size: 1.1rem;">
                
                <div class="inspection-tabs">
                <button onclick="switchInspectionTab('minibar')" class="inspection-tab active" id="tab-minibar">๐ซ ุงููููู ุจุงุฑ</button>
                <button onclick="switchInspectionTab('damages')" class="inspection-tab" id="tab-damages">๐จ ุงูุฃุถุฑุงุฑ</button>
                <button onclick="switchInspectionTab('lostfound')" class="inspection-tab" id="tab-lostfound">โ๏ธ ููููุฏุงุช</button>
                <button onclick="switchInspectionTab('excellent')" class="inspection-tab" id="tab-excellent">โ ุญุงูุฉ ููุชุงุฒุฉ</button>
            </div>

            <div id="inspection-minibar" class="inspection-tab-content" style="display: block;">
                <h4>ุงุฎุชุฑ ุงูุนูุงุตุฑ ุงููุณุชูููุฉ:</h4>
                <div class="minibar-items" id="minibar-items-dynamic">
                    <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู ูู MinibarManager -->
                </div>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button onclick="submitInspection('minibar')" class="glass-btn inspection-submit-btn" style="flex: 1;">ุฅุฑุณุงู ููุงุณุชูุจุงู (ูุงุชูุฑุฉ)</button>
                    <button onclick="closeModal('inspection-modal')" class="glass-btn back-action-btn" style="flex: 1;">ุฑุฌูุน</button>
                </div>
            </div>

            <div id="inspection-damages" class="inspection-tab-content" style="display: none;">
                <h4>ุฑูุน ุตูุฑุฉ ุงูุฃุถุฑุงุฑ:</h4>
                <label for="damage-photo" class="camera-icon-btn" style="width: 100%; padding: 25px; text-align: center; font-size: 1.1rem; cursor: pointer; border: 2px dashed var(--border-color); border-radius: 12px; background: #f8fafc; transition: all 0.3s;">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">๐ท</div>
                    <div style="font-weight: 600; color: var(--text-main);">ุงูุชูุงุท ุตูุฑุฉ ุงูุฃุถุฑุงุฑ</div>
                    <div style="font-size: 0.85rem; color: var(--text-sec); margin-top: 5px;">ุงุถุบุท ููุจุฏุก</div>
                </label>
                <input type="file" accept="image/*" capture="environment" id="damage-photo" style="display: none;">
                <div id="damage-preview" style="display: none; margin-top: 10px;"></div>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button onclick="submitInspection('damages')" class="glass-btn inspection-submit-btn" style="flex: 1;">ุฅุฑุณุงู ููุงุณุชูุจุงู (ุบุฑุงูุฉ)</button>
                    <button onclick="closeModal('inspection-modal')" class="glass-btn back-action-btn" style="flex: 1;">ุฑุฌูุน</button>
                </div>
            </div>

            <div id="inspection-lostfound" class="inspection-tab-content" style="display: none;">
                <h4>ุฑูุน ุตูุฑุฉ ุงูุนูุตุฑ ุงูููููุฏ:</h4>
                <label for="lostfound-photo" class="camera-icon-btn" style="width: 100%; padding: 25px; text-align: center; font-size: 1.1rem; cursor: pointer; border: 2px dashed var(--border-color); border-radius: 12px; background: #f8fafc; transition: all 0.3s;">
                    <div style="font-size: 2.5rem; margin-bottom: 10px;">๐ท</div>
                    <div style="font-weight: 600; color: var(--text-main);">ุงูุชูุงุท ุตูุฑุฉ ุงูููููุฏุงุช</div>
                    <div style="font-size: 0.85rem; color: var(--text-sec); margin-top: 5px;">ุงุถุบุท ููุจุฏุก</div>
                </label>
                <input type="file" accept="image/*" capture="environment" id="lostfound-photo" style="display: none;">
                <div id="lostfound-preview" style="display: none; margin-top: 10px;"></div>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button onclick="submitInspection('lostfound')" class="glass-btn inspection-submit-btn" style="flex: 1;">ุฅุฑุณุงู ููุงุณุชูุจุงู (ุงุชุตุงู)</button>
                    <button onclick="closeModal('inspection-modal')" class="glass-btn back-action-btn" style="flex: 1;">ุฑุฌูุน</button>
                </div>
            </div>

            <div id="inspection-excellent" class="inspection-tab-content" style="display: none;">
                <div style="text-align: center; padding: 20px;">
                    <div style="font-size: 3rem; margin-bottom: 15px;">โ</div>
                    <h4 style="color: var(--success); margin-bottom: 10px;">ุญุงูุฉ ููุชุงุฒุฉ</h4>
                    <p style="color: var(--text-sec); font-size: 0.9rem; margin-bottom: 20px;">ุงูุบุฑูุฉ ูู ุญุงูุฉ ููุชุงุฒุฉ ููุง ุชุญุชุงุฌ ุฃู ุฅุฌุฑุงุก</p>
                    <div style="display: flex; gap: 10px;">
                        <button onclick="submitInspection('excellent')" class="glass-btn inspection-submit-btn" style="flex: 1;">ุชุฃููุฏ โ</button>
                        <button onclick="closeModal('inspection-modal')" class="glass-btn back-action-btn" style="flex: 1;">ุฑุฌูุน</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Maintenance Scheduler Modal -->
    <div id="maintenance-scheduler-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 700px; max-height: 90vh; overflow-y: auto;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <h3 style="color: var(--maint-color); margin: 0; font-size: 1.4rem;">๐๏ธ ุฌุฏููุฉ ุงูุตูุงูุฉ ุงูุฏูุฑูุฉ</h3>
                <button onclick="closeMaintenanceScheduler()" class="tools-btn" style="font-size: 1.2rem;">โ</button>
            </div>
            
            <div style="background: linear-gradient(135deg, rgba(14,165,233,0.05), rgba(56,189,248,0.05)); padding: 20px; border-radius: 16px; border: 2px solid rgba(14,165,233,0.2); margin-bottom: 20px;">
                <h4 style="color: var(--maint-color); margin-top: 0; margin-bottom: 15px; font-size: 1.1rem;">โ ุฅุถุงูุฉ ูููุฉ ุตูุงูุฉ ุฌุฏูุฏุฉ</h4>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 12px;">
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ ุฑูู ุงูุบุฑูุฉ</label>
                        <input type="number" id="scheduler-room-num" placeholder="ูุซุงู: 101" 
                               style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem; font-weight: 600; text-align: center;">
                    </div>
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">โฐ ุงูููุช</label>
                        <input type="time" id="scheduler-time" value="09:00" 
                               style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem;">
                    </div>
                </div>
                
                <div style="margin-bottom: 12px;">
                    <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ ูุตู ุงููููุฉ (ูููู ุฅุถุงูุฉ ุนุฏุฉ ุนูุงุตุฑ)</label>
                    <textarea id="scheduler-task-desc" rows="3" placeholder="ูุซุงู: ุชูุธูู ููุชุฑ ุงูุชูููู&#10;ุฃู ุนุฏุฉ ุนูุงุตุฑ:&#10;1. ุชูุธูู ููุชุฑ ุงูุชูููู&#10;2. ูุญุต ุงูุฃุณูุงู&#10;3. ุชูุธูู ุงููุชุญุงุช" 
                              style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--maint-color); font-size: 0.95rem; resize: vertical; font-family: 'Tajawal', sans-serif;"></textarea>
                </div>
                
                <div style="margin-bottom: 12px;">
                    <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ ููุน ุงูุฌุฏููุฉ</label>
                    <select id="scheduler-frequency" onchange="handleSchedulerFrequencyChange()" 
                            style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem; font-weight: 600;">
                        <option value="daily">๐ ูููู</option>
                        <option value="weekly">๐ ุฃุณุจูุนู</option>
                        <option value="monthly">๐ ุดูุฑู</option>
                        <option value="specific">๐ ุญุณุจ ุงูุชุงุฑูุฎ ุงููุญุฏุฏ</option>
                        <option value="custom">๐ ูุฎุตุต (ูู X ููู)</option>
                </select>
                </div>
                
                <div id="scheduler-custom-days" style="display: none; margin-bottom: 12px;">
                    <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ข ูู ูู ูููุ</label>
                    <input type="number" id="scheduler-custom-days-input" placeholder="ูุซุงู: 7" min="1" 
                           style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem; text-align: center;">
            </div>
            
                <div id="scheduler-specific-date" style="display: none; margin-bottom: 12px;">
                    <label class="modal-label" style="font-weight: 700; font-size: 0.9rem;">๐ ุงูุชุงุฑูุฎ ุงููุญุฏุฏ</label>
                    <input type="date" id="scheduler-specific-date-input" 
                           style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem;">
                </div>
                
                <button onclick="addScheduledMaintenance()" class="glass-btn submit-action-btn" 
                        style="width: 100%; padding: 14px; font-size: 1.1rem; font-weight: 700; background: linear-gradient(135deg, var(--maint-color), #0EA5E9); color: white; border: none; border-radius: 12px; cursor: pointer; box-shadow: 0 4px 12px rgba(14,165,233,0.3);">
                    โ ุฅุถุงูุฉ ูููุฉ ูุฌุฏููุฉ
                </button>
            </div>
            
            <div style="margin-bottom: 20px;">
                <h4 style="color: var(--maint-color); margin-bottom: 15px; font-size: 1.1rem;">๐ ุงูููุงู ุงููุฌุฏููุฉ</h4>
                <div id="scheduled-maintenance-list" style="max-height: 400px; overflow-y: auto;">
                <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                </div>
            </div>
            
            <div style="display: flex; gap: 10px;">
                <button onclick="closeMaintenanceScheduler()" class="glass-btn back-action-btn" style="flex: 1; padding: 12px; font-size: 1rem; font-weight: 700;">ุฅุบูุงู</button>
            </div>
        </div>
    </div>

    <!-- Shift Log Modal -->
    <div id="shift-log-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 900px; max-height: 90vh; overflow-y: auto;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <h3 style="color: #F59E0B; margin: 0; font-size: 1.4rem;">๐ ุณุฌู ุงูุดูุช</h3>
                <button onclick="closeShiftLog()" class="tools-btn" style="font-size: 1.2rem;">โ</button>
            </div>
            
            <!-- ูุณู ุฅุถุงูุฉ ููุงุญุธุฉ -->
            <div style="background: linear-gradient(135deg, rgba(245,158,11,0.05), rgba(217,119,6,0.05)); padding: 20px; border-radius: 16px; border: 2px solid rgba(245,158,11,0.2); margin-bottom: 20px;">
                <h4 style="color: #F59E0B; margin-top: 0; margin-bottom: 15px; font-size: 1.1rem;">โ ุฅุถุงูุฉ ููุงุญุธุฉ</h4>
                <div style="margin-bottom: 12px;">
                    <label class="modal-label" style="font-weight: 700; font-size: 0.95rem;">๐ ููุน ุงูููุงุญุธุฉ</label>
                    <select id="shift-log-type" 
                            style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem; font-weight: 600;">
                        <option value="handover">๐ ุชุณููู</option>
                        <option value="note">๐ ููุงุญุธุฉ</option>
                        <option value="issue">โ๏ธ ูุดููุฉ</option>
                </select>
                </div>
                <div style="margin-bottom: 12px;">
                    <label class="modal-label" style="font-weight: 700; font-size: 0.95rem;">๐ ุงูููุงุญุธุงุช</label>
                    <textarea id="shift-log-notes" rows="3" placeholder="ุงูุชุจ ููุงุญุธุงุช ุงูุดูุช..." 
                              style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 0.95rem; resize: vertical; font-family: 'Tajawal', sans-serif;"></textarea>
                </div>
                <button onclick="saveShiftLog()" class="glass-btn submit-action-btn" 
                        style="width: 100%; padding: 12px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, #F59E0B, #D97706); color: white; border: none; border-radius: 12px; cursor: pointer; box-shadow: 0 4px 12px rgba(245,158,11,0.3);">
                    ๐พ ุญูุธ ุงูููุงุญุธุฉ
                </button>
            </div>
            
            <!-- ูุณู ุงูููุงุชุฑ -->
            <div style="background: linear-gradient(135deg, rgba(59,130,246,0.05), rgba(139,92,246,0.05)); padding: 20px; border-radius: 16px; border: 2px solid rgba(59,130,246,0.2); margin-bottom: 20px;">
                <h4 style="color: var(--primary); margin-top: 0; margin-bottom: 15px; font-size: 1.1rem;">๐ ุงูููุงุชุฑ</h4>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-bottom: 15px;">
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.85rem; margin-bottom: 6px;">โฐ ูู ุงูุณุงุนุฉ</label>
                        <input type="time" id="shift-filter-time-from" 
                               style="width: 100%; padding: 10px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 0.95rem;">
                    </div>
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.85rem; margin-bottom: 6px;">โฐ ุฅูู ุงูุณุงุนุฉ</label>
                        <input type="time" id="shift-filter-time-to" 
                               style="width: 100%; padding: 10px; border-radius: 8px; border: 2px solid var(--border-color); font-size: 0.95rem;">
                    </div>
                </div>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-bottom: 15px;">
                    <label style="display: flex; align-items: center; gap: 8px; padding: 10px; background: rgba(255,255,255,0.7); border-radius: 8px; cursor: pointer; border: 2px solid var(--border-color);">
                        <input type="checkbox" id="shift-filter-rooms" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <span style="font-weight: 600; font-size: 0.9rem;">๐ ุนุฏุฏ ุงูุบุฑู</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; padding: 10px; background: rgba(255,255,255,0.7); border-radius: 8px; cursor: pointer; border: 2px solid var(--border-color);">
                        <input type="checkbox" id="shift-filter-cleaning" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <span style="font-weight: 600; font-size: 0.9rem;">๐งน ุงูุชูุธูู</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; padding: 10px; background: rgba(255,255,255,0.7); border-radius: 8px; cursor: pointer; border: 2px solid var(--border-color);">
                        <input type="checkbox" id="shift-filter-checkout" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <span style="font-weight: 600; font-size: 0.9rem;">๐ช ุงูุฎุฑูุฌ</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; padding: 10px; background: rgba(255,255,255,0.7); border-radius: 8px; cursor: pointer; border: 2px solid var(--border-color);">
                        <input type="checkbox" id="shift-filter-stayover" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <span style="font-weight: 600; font-size: 0.9rem;">๐ ุงูุณุงูู</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; padding: 10px; background: rgba(255,255,255,0.7); border-radius: 8px; cursor: pointer; border: 2px solid var(--border-color);">
                        <input type="checkbox" id="shift-filter-qr-requests" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <span style="font-weight: 600; font-size: 0.9rem;">๐ฑ ุทูุจุงุช QR</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; padding: 10px; background: rgba(255,255,255,0.7); border-radius: 8px; cursor: pointer; border: 2px solid var(--border-color);">
                        <input type="checkbox" id="shift-filter-maintenance" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <span style="font-weight: 600; font-size: 0.9rem;">๐๏ธ ุงูุตูุงูุฉ</span>
                    </label>
                    <label style="display: flex; align-items: center; gap: 8px; padding: 10px; background: rgba(255,255,255,0.7); border-radius: 8px; cursor: pointer; border: 2px solid var(--border-color);">
                        <input type="checkbox" id="shift-filter-inspections" checked style="width: 20px; height: 20px; cursor: pointer;">
                        <span style="font-weight: 600; font-size: 0.9rem;">๐ ุทูุจุงุช ุงููุญุต</span>
                    </label>
                </div>
                
                <button onclick="applyShiftLogFilters()" class="glass-btn submit-action-btn" 
                        style="width: 100%; padding: 12px; font-size: 1rem; font-weight: 700; background: linear-gradient(135deg, var(--primary), #6366F1); color: white; border: none; border-radius: 12px; cursor: pointer; box-shadow: 0 4px 12px rgba(59,130,246,0.3);">
                    ๐ ุชุทุจูู ุงูููุงุชุฑ
                </button>
            </div>
            
            <!-- ูุณู ุงููุชุงุฆุฌ -->
            <div style="margin-bottom: 20px;">
                <h4 style="color: #F59E0B; margin-bottom: 15px; font-size: 1.1rem;">๐ ุงููุชุงุฆุฌ</h4>
                <div id="shift-logs-list" style="max-height: 500px; overflow-y: auto;">
                <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
                </div>
            </div>
            
            <div style="display: flex; gap: 10px;">
                <button onclick="closeShiftLog()" class="glass-btn back-action-btn" style="flex: 1; padding: 12px; font-size: 1rem; font-weight: 700;">ุฅุบูุงู</button>
            </div>
        </div>
    </div>

    <!-- Admin PIN Modal -->
    <div id="admin-pin-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <h3 style="color: var(--primary); margin-top: 0;">๐ ุงูุชุญูู ูู ุงูุตูุงุญูุฉ</h3>
            <p style="font-size: 0.9rem; color: var(--text-sec); margin-bottom: 15px; text-align: center;">ุฃุฏุฎู ุฑูุฒ ุงููุฏูุฑ ูููุตูู</p>
            <input type="password" id="admin-pin-input" placeholder="ุฑูุฒ ุงููุฏูุฑ" 
                   style="width: 100%; padding: 14px; border-radius: 12px; border: 2px solid var(--border-color); 
                          font-size: 1.1rem; text-align: center; margin-bottom: 15px; 
                          background: var(--bg-card); color: var(--text-main);"
                   onkeypress="if(event.key === 'Enter') confirmAdminPIN()">
            <div style="display: flex; gap: 10px;">
                <button onclick="confirmAdminPIN()" class="glass-btn submit-action-btn" style="flex: 1;">โ ุชุฃููุฏ</button>
                <button onclick="closeAdminPINModal()" class="glass-btn back-action-btn" style="flex: 1;">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Advanced Reports Modal -->
    <div id="advanced-reports-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 800px; max-height: 90vh; overflow-y: auto;">
            <h3 style="color: var(--primary); margin-top: 0; font-size: 1.3rem; display: flex; align-items: center; justify-content: space-between;">
                <span>๐ ุงูุชูุงุฑูุฑ ุงููุชูุฏูุฉ</span>
                <button onclick="closeAdvancedReports()" class="tools-btn" style="font-size: 1.2rem;">โ</button>
            </h3>
            
            <div id="reports-tabs" style="display: flex; gap: 8px; margin-bottom: 20px; border-bottom: 2px solid var(--border-color); padding-bottom: 10px;">
                <button onclick="switchReportTab('productivity')" class="glass-btn report-tab active" id="tab-productivity">๐ท ุงูุฅูุชุงุฌูุฉ</button>
                <button onclick="switchReportTab('timing')" class="glass-btn report-tab" id="tab-timing">โฑ๏ธ ุงูุชูููุช</button>
                <button onclick="switchReportTab('delays')" class="glass-btn report-tab" id="tab-delays">โ๏ธ ุงูุชุฃุฎูุฑุงุช</button>
                <button onclick="switchReportTab('requests')" class="glass-btn report-tab" id="tab-requests">๐๏ธ ุงูุทูุจุงุช</button>
                <button onclick="switchReportTab('maintenance')" class="glass-btn report-tab" id="tab-maintenance">๐๏ธ ุงูุตูุงูุฉ</button>
            </div>
            
            <div id="report-content">
                <!-- ุณูุชู ููุคูุง ุฏููุงููููุงู -->
            </div>
        </div>
    </div>

    <!-- News Ticker Modal -->
    <div id="news-ticker-modal" class="modal-overlay" style="display: none;">
        <div class="modal-content" style="max-width: 600px;">
            <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 20px;">
                <h3 style="color: var(--primary); margin: 0; font-size: 1.4rem;">๐ข ูุญุฑุฑ ุงูุฃุฎุจุงุฑ</h3>
                <button onclick="closeNewsTickerEditor()" class="tools-btn" style="font-size: 1.2rem;">โ</button>
            </div>
            
            <div style="background: linear-gradient(135deg, rgba(59,130,246,0.05), rgba(139,92,246,0.05)); padding: 20px; border-radius: 16px; border: 2px solid rgba(59,130,246,0.2); margin-bottom: 20px;">
            <div style="margin-bottom: 15px;">
                    <label class="modal-label" style="font-weight: 700; font-size: 0.95rem; margin-bottom: 8px;">๐ ูุต ุงูุฑุณุงูุฉ</label>
                    <textarea id="news-ticker-message" rows="4" placeholder="ุงูุชุจ ุงูุฑุณุงูุฉ ุงูุชู ุณุชุธูุฑ ูู ูุณู ุงูุทูุจุงุช...&#10;ูุซุงู: โ๏ธ ุชูุจูู: ุณูุชู ุฅุบูุงู ุงููุณุจุญ ููุตูุงูุฉ ููู ุงูุฎููุณ" 
                              style="width: 100%; padding: 14px; border-radius: 12px; border: 2px solid var(--request-color); background: white; font-size: 0.95rem; font-weight: 500; resize: vertical; font-family: 'Tajawal', sans-serif;"></textarea>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px;">
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.95rem; margin-bottom: 8px;">โฐ ูุฏุฉ ุงูุนุฑุถ (ุณุงุนุงุช)</label>
                        <input type="number" id="news-ticker-duration" min="1" max="168" value="24" 
                               placeholder="ูุซุงู: 24" 
                               style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem; text-align: center; font-weight: 600;">
                        <div style="font-size: 0.75rem; color: var(--text-sec); margin-top: 4px; text-align: center;">ุณูุชู ุฅุฎูุงุก ุงูุฑุณุงูุฉ ุชููุงุฆูุงู ุจุนุฏ ุงูุชูุงุก ุงููุฏุฉ</div>
                    </div>
                    <div>
                        <label class="modal-label" style="font-weight: 700; font-size: 0.95rem; margin-bottom: 8px;">๐จ ููุน ุงูุฑุณุงูุฉ</label>
                        <select id="news-ticker-type" 
                                style="width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--border-color); font-size: 1rem; font-weight: 600;">
                            <option value="normal">๐ข ุนุงุฏู</option>
                            <option value="urgent">๐จ ุนุงุฌู</option>
                            <option value="info">โน๏ธ ูุนูููุงุช</option>
                            <option value="warning">โ๏ธ ุชุญุฐูุฑ</option>
                        </select>
                    </div>
                </div>
                
                <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: rgba(255,255,255,0.7); border-radius: 10px; margin-bottom: 15px;">
                    <input type="checkbox" id="news-ticker-enabled" 
                           style="width: 24px; height: 24px; cursor: pointer;">
                    <label for="news-ticker-enabled" style="font-weight: 700; font-size: 1rem; color: var(--text-main); cursor: pointer; flex: 1;">
                        โ ุชูุนูู ุงูุฑุณุงูุฉ
                </label>
                </div>
                
                <div style="background: rgba(255,255,255,0.9); padding: 12px; border-radius: 10px; border: 2px dashed rgba(59,130,246,0.3);">
                    <div style="font-size: 0.85rem; color: var(--text-sec); font-weight: 600; margin-bottom: 6px;">๐ก ูุนุงููุฉ:</div>
                    <div id="news-ticker-preview" style="padding: 10px; border-radius: 8px; background: linear-gradient(135deg, rgba(59,130,246,0.1), rgba(139,92,246,0.1)); border: 2px solid rgba(59,130,246,0.3); font-size: 0.9rem; min-height: 40px; display: flex; align-items: center;">
                        <span style="color: var(--text-sec);">ุงูุชุจ ุงูุฑุณุงูุฉ ูุฑุคูุฉ ุงููุนุงููุฉ...</span>
                    </div>
                </div>
            </div>
            
            <div style="display: flex; gap: 10px;">
                <button onclick="saveNewsTicker()" class="glass-btn submit-action-btn" style="flex: 1; padding: 14px; font-size: 1.1rem; font-weight: 700;">๐พ ุญูุธ</button>
                <button onclick="closeNewsTickerEditor()" class="glass-btn back-action-btn" style="flex: 1; padding: 14px; font-size: 1.1rem; font-weight: 700;">ุฅุบูุงู</button>
            </div>
        </div>
    </div>
    
    <!-- Success Message Modal (ูุธูุฑ ููุงู ุงููุงูุฐุฉ) -->
    <div id="modal-success-message" class="modal-overlay" style="display: none; z-index: 2500;">
        <div class="modal-content" style="max-width: 300px; text-align: center;">
            <div style="font-size: 3rem; margin-bottom: 15px;">โ</div>
            <h3 style="color: var(--success); margin-top: 0; font-size: 1.1rem;" id="success-message-text">ุชู ุจูุฌุงุญ</h3>
        </div>
    </div>

<script src="script2.js"></script>
</body>
</html>